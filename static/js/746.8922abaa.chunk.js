"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[746],{8746:function(e,t,r){r.d(t,{ZP:function(){return gs}});var n=r(4165),i=r(7762),a=r(5671),o=r(3144);function s(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){s(a,n,i,o,c,"next",e)}function c(e){s(a,n,i,o,c,"throw",e)}o(void 0)}))}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function d(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function m(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,r){return(t=d(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _,S="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{},M={},C={get exports(){return M},set exports(e){M=e}},O="object"==typeof Reflect?Reflect:null,j=O&&"function"==typeof O.apply?O.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};_=O&&"function"==typeof O.ownKeys?O.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var T=Number.isNaN||function(e){return e!=e};function P(){P.init.call(this)}C.exports=P,M.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}R(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&R(e,"error",t,{once:!0})}(e,i)}))},P.EventEmitter=P,P.prototype._events=void 0,P.prototype._eventsCount=0,P.prototype._maxListeners=void 0;var A=10;function x(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function E(e){return void 0===e._maxListeners?P.defaultMaxListeners:e._maxListeners}function F(e,t,r,n){var i,a,o,s;if(x(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=E(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function I(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=L.bind(n);return i.listener=r,n.wrapFn=i,i}function D(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):N(i,i.length)}function B(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function N(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function R(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return A},set:function(e){if("number"!=typeof e||e<0||T(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");A=e}}),P.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},P.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||T(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},P.prototype.getMaxListeners=function(){return E(this)},P.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=i[e];if(void 0===s)return!1;if("function"==typeof s)j(s,this,t);else{var c=s.length,u=N(s,c);for(r=0;r<c;++r)j(u[r],this,t)}return!0},P.prototype.addListener=function(e,t){return F(this,e,t,!1)},P.prototype.on=P.prototype.addListener,P.prototype.prependListener=function(e,t){return F(this,e,t,!0)},P.prototype.once=function(e,t){return x(t),this.on(e,I(this,e,t)),this},P.prototype.prependOnceListener=function(e,t){return x(t),this.prependListener(e,I(this,e,t)),this},P.prototype.removeListener=function(e,t){var r,n,i,a,o;if(x(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},P.prototype.listeners=function(e){return D(this,e,!0)},P.prototype.rawListeners=function(e){return D(this,e,!1)},P.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):B.call(e,t)},P.prototype.listenerCount=B,P.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]};var V="function"==typeof Map,Z="function"==typeof Set,U="function"==typeof WeakSet,z=Object.keys,J=function(e,t){return e&&"object"==typeof e&&t.add(e)},W=function(e,t,r,n){for(var i,a=0;a<e.length;a++)if(r((i=e[a])[0],t[0],n)&&r(i[1],t[1],n))return!0;return!1},q=function(e,t,r,n){for(var i=0;i<e.length;i++)if(r(e[i],t,n))return!0;return!1},G=function(e,t){return e===t||e!=e&&t!=t},H=function(e){return e.constructor===Object},K=function(e){return"function"==typeof e.then},Q=function(e){return!(!e.$$typeof||!e._store)},$=function(e){return function(t){var r=e||t;return function(e,t,n){void 0===n&&(n=U?new WeakSet:Object.create({_values:[],add:function(e){this._values.push(e)},has:function(e){return!!~this._values.indexOf(e)}}));var i=n.has(e),a=n.has(t);return i||a?i&&a:(J(e,n),J(t,n),r(e,t,n))}}},Y=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},X=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},ee=function(e,t,r,n){var i,a=z(e),o=z(t);if(a.length!==o.length)return!1;for(var s=0;s<a.length;s++){if(i=a[s],!q(o,i,G))return!1;if(("_owner"!==i||!Q(e)||!Q(t))&&!r(e[i],t[i],n))return!1}return!0},te=Array.isArray,re=function(e){var t="function"==typeof e?e(r):r;function r(e,r,n){if(G(e,r))return!0;var i=typeof e;if(i!==typeof r||"object"!==i||!e||!r)return!1;if(H(e)&&H(r))return ee(e,r,t,n);var a=te(e),o=te(r);if(a||o)return a===o&&function(e,t,r,n){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t[i],n))return!1;return!0}(e,r,t,n);var s=e instanceof Date,c=r instanceof Date;if(s||c)return s===c&&G(e.getTime(),r.getTime());var u,l,d=e instanceof RegExp,f=r instanceof RegExp;if(d||f)return d===f&&(l=r,(u=e).source===l.source&&u.global===l.global&&u.ignoreCase===l.ignoreCase&&u.multiline===l.multiline&&u.unicode===l.unicode&&u.sticky===l.sticky&&u.lastIndex===l.lastIndex);if(K(e)||K(r))return e===r;if(V){var h=e instanceof Map,p=r instanceof Map;if(h||p)return h===p&&function(e,t,r,n){if(e.size!==t.size)return!1;for(var i=Y(e),a=Y(t),o=0;o<i.length;o++)if(!W(a,i[o],r,n)||!W(i,a[o],r,n))return!1;return!0}(e,r,t,n)}if(Z){var v=e instanceof Set,g=r instanceof Set;if(v||g)return v===g&&function(e,t,r,n){if(e.size!==t.size)return!1;for(var i=X(e),a=X(t),o=0;o<i.length;o++)if(!q(a,i[o],r,n)||!q(i,a[o],r,n))return!1;return!0}(e,r,t,n)}return ee(e,r,t,n)}return r};re($()),re($(G));var ne=re();re((function(){return G}));var ie={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},ae={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},oe={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},se={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},ce={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"},ue=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getFirstMatch",value:function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""}},{key:"getSecondMatch",value:function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""}},{key:"matchAndReturnConst",value:function(e,t,r){if(e.test(t))return r}},{key:"getWindowsVersionName",value:function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}},{key:"getMacOSVersionName",value:function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}},{key:"getAndroidVersionName",value:function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0}},{key:"getVersionPrecision",value:function(e){return e.split(".").length}},{key:"compareVersions",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.getVersionPrecision(t),a=e.getVersionPrecision(r),o=Math.max(i,a),s=0,c=e.map([t,r],(function(t){var r=o-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===s)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}},{key:"map",value:function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n}},{key:"find",value:function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}}},{key:"assign",value:function(e){for(var t,r,n=e,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=a.length;t<r;t+=1)s();return e}},{key:"getBrowserAlias",value:function(e){return ie[e]}},{key:"getBrowserTypeByAlias",value:function(e){return ae[e]||""}}]),e}(),le=/version\/(\d+(\.?_?\d+)+)/i,de=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=ue.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=ue.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=ue.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=ue.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=ue.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=ue.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=ue.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=ue.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=ue.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=ue.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=ue.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=ue.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=ue.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=ue.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=ue.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=ue.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=ue.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=ue.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=ue.getFirstMatch(le,e)||ue.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=ue.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=ue.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=ue.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=ue.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=ue.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=ue.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=ue.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=ue.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=ue.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=ue.getFirstMatch(le,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:ue.getFirstMatch(t,e),version:ue.getSecondMatch(t,e)}}}],fe=[{test:[/Roku\/DVP/],describe:function(e){var t=ue.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:se.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=ue.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:se.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=ue.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=ue.getWindowsVersionName(t);return{name:se.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:se.iOS},r=ue.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=ue.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=ue.getMacOSVersionName(t),n={name:se.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=ue.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:se.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=ue.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=ue.getAndroidVersionName(t),n={name:se.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=ue.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:se.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=ue.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||ue.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||ue.getFirstMatch(/\bbb(\d+)/i,e);return{name:se.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=ue.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:se.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=ue.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:se.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:se.Linux}}},{test:[/CrOS/],describe:function(){return{name:se.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=ue.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:se.PlayStation4,version:t}}}],he=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=ue.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:oe.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:oe.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:oe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:oe.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:oe.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:oe.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:oe.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=ue.getFirstMatch(/(ipod|iphone)/i,e);return{type:oe.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:oe.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:oe.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:oe.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:oe.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:oe.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:oe.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:oe.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:oe.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:oe.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:oe.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:oe.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:oe.tv}}}],pe=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:ce.Blink};var t=ue.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:ce.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:ce.Trident},r=ue.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:ce.Presto},r=ue.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:ce.Gecko},r=ue.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:ce.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:ce.WebKit},r=ue.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}],ve=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,a.Z)(this,e),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==r&&this.parse()}return(0,o.Z)(e,[{key:"getUA",value:function(){return this._ua}},{key:"test",value:function(e){return e.test(this._ua)}},{key:"parseBrowser",value:function(){var e=this;this.parsedResult.browser={};var t=ue.find(de,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser}},{key:"getBrowser",value:function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}},{key:"getBrowserName",value:function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}},{key:"getBrowserVersion",value:function(){return this.getBrowser().version}},{key:"getOS",value:function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}},{key:"parseOS",value:function(){var e=this;this.parsedResult.os={};var t=ue.find(fe,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os}},{key:"getOSName",value:function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""}},{key:"getOSVersion",value:function(){return this.getOS().version}},{key:"getPlatform",value:function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}},{key:"getPlatformType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""}},{key:"parsePlatform",value:function(){var e=this;this.parsedResult.platform={};var t=ue.find(he,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform}},{key:"getEngine",value:function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}},{key:"getEngineName",value:function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}},{key:"parseEngine",value:function(){var e=this;this.parsedResult.engine={};var t=ue.find(pe,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine}},{key:"parse",value:function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}},{key:"getResult",value:function(){return ue.assign({},this.parsedResult)}},{key:"satisfies",value:function(e){var t=this,r={},n=0,i={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,a+=1):"object"==typeof o&&(r[t]=o,n+=1)})),n>0){var o=Object.keys(r),s=ue.find(o,(function(e){return t.isOS(e)}));if(s){var c=this.satisfies(r[s]);if(void 0!==c)return c}var u=ue.find(o,(function(e){return t.isPlatform(e)}));if(u){var l=this.satisfies(r[u]);if(void 0!==l)return l}}if(a>0){var d=Object.keys(i),f=ue.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==f)return this.compareVersion(i[f])}}},{key:"isBrowser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=ue.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r}},{key:"compareVersion",value:function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(ue.compareVersions(i,r,n))>-1}},{key:"isOS",value:function(e){return this.getOSName(!0)===String(e).toLowerCase()}},{key:"isPlatform",value:function(e){return this.getPlatformType(!0)===String(e).toLowerCase()}},{key:"isEngine",value:function(e){return this.getEngineName(!0)===String(e).toLowerCase()}},{key:"is",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}},{key:"some",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((function(t){return e.is(t)}))}}]),e}(),ge=function(){function e(){(0,a.Z)(this,e)}return(0,o.Z)(e,null,[{key:"getParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("string"!=typeof e)throw new Error("UserAgent should be a string");return new ve(e,t)}},{key:"parse",value:function(e){return new ve(e).getResult()}},{key:"BROWSER_MAP",get:function(){return ae}},{key:"ENGINE_MAP",get:function(){return ce}},{key:"OS_MAP",get:function(){return se}},{key:"PLATFORMS_MAP",get:function(){return oe}}]),e}(),me="new",ye="loading",be="loaded",we="joining-meeting",ke="joined-meeting",_e="left-meeting",Se="error",Me="unknown",Ce="full",Oe="base",je="*",Te="theme-updated",Pe="loading",Ae="load-attempt-failed",xe="loaded",Ee="joining-meeting",Fe="available-devices-updated",Le="track-started",Ie="track-stopped",De="recording-started",Be="recording-stopped",Ne="fullscreen",Re="exited-fullscreen",Ve="error",Ze=102400,Ue="iframe-call-message",ze="register-input-handler",Je="daily-method-update-live-streaming-endpoints",We="transmit-log",qe="daily-custom-track",Ge={NONE:"none",BGBLUR:"background-blur",BGIMAGE:"background-image"},He={NONE:"none",NOISE_CANCELLATION:"noise-cancellation"},Ke={PLAY:"play",PAUSE:"pause"},Qe=10,$e=["jpg","png","jpeg"];function Ye(){return!Xe()&&"undefined"!=typeof window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:""}function Xe(){return"undefined"!=typeof navigator&&navigator.product&&"ReactNative"===navigator.product}function et(){return navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia}function tt(){if(Xe())return!1;if(!document)return!1;var e=document.createElement("iframe");return!!e.requestFullscreen||!!e.webkitRequestFullscreen}var rt=["Chrome","Firefox"];function nt(){return!Xe()&&!st()&&rt.includes(ct())}var it=["Chrome","Firefox"];function at(){return!Xe()&&!st()&&"undefined"!=typeof AudioWorkletNode&&it.includes(ct())}function ot(){return et()&&!function(){var e,t=ct();if(!Ye())return!0;switch(t){case"Chrome":return(e=ut()).major&&e.major>0&&e.major<61;case"Firefox":return(e=ft()).major<78;case"Safari":return(e=dt()).major<12;default:return!0}}()}function st(){var e,t,r=Ye(),n=r.match(/Mac/)&&(!Xe()&&"undefined"!=typeof window&&null!==(e=window)&&void 0!==e&&null!==(t=e.navigator)&&void 0!==t&&t.maxTouchPoints?window.navigator.maxTouchPoints:0)>=5;return!!(r.match(/Mobi/)||r.match(/Android/)||n)||!!Ye().match(/DailyAnd\//)||void 0}function ct(){if("undefined"!=typeof window){var e=Ye();return lt()?"Safari":e.indexOf("Edge")>-1?"Edge":e.match(/Chrome\//)?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("Firefox")>-1?"Firefox":e.indexOf("MSIE")>-1||e.indexOf(".NET")>-1?"IE":"Unknown Browser"}}function ut(){var e=0,t=0,r=0,n=0,i=!1;if("undefined"!=typeof window){var a=Ye(),o=a.match(/Chrome\/(\d+).(\d+).(\d+).(\d+)/);if(o)try{e=parseInt(o[1]),t=parseInt(o[2]),r=parseInt(o[3]),n=parseInt(o[4]),i=a.indexOf("OPR/")>-1}catch(e){}}return{major:e,minor:t,build:r,patch:n,opera:i}}function lt(){return!!Ye().match(/iPad|iPhone|iPod/i)&&et()}function dt(){var e=0,t=0,r=0;if("undefined"!=typeof window){var n=Ye().match(/Version\/(\d+).(\d+)(.(\d+))?/);if(n)try{e=parseInt(n[1]),t=parseInt(n[2]),r=parseInt(n[4])}catch(e){}else lt()&&(e=14,t=0,r=3)}return{major:e,minor:t,point:r}}function ft(){var e=0,t=0;if("undefined"!=typeof window){var r=Ye().match(/Firefox\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch(e){}}return{major:e,minor:t}}function ht(){return Date.now()+Math.random().toString()}function pt(){throw new Error("Method must be implemented in subclass")}function vt(){return window._dailyConfig&&window._dailyConfig.callObjectBundleUrlOverride?window._dailyConfig.callObjectBundleUrlOverride:"https://c.daily.co/call-machine/versioned/".concat("0.45.0","/static/call-machine-object-bundle.js")}function gt(e){try{new URL(e)}catch(e){return!1}return!0}var mt=function(){function e(){u(this,e)}return h(e,[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){pt()}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){pt()}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){pt()}},{key:"sendMessageToDailyJs",value:function(e,t){pt()}},{key:"removeListener",value:function(e){pt()}}]),e}();function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wt=function(e){g(r,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}(r);function r(){var e;return u(this,r),(e=t.call(this))._wrappedListeners={},e._messageCallbacks={},e}return h(r,[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,r){var n=this,i=function(i){if(i.data&&"iframe-call-message"===i.data.what&&(!i.data.callFrameId||i.data.callFrameId===t)&&(!i.data.from||"module"!==i.data.from)){var a=bt({},i.data);if(delete a.from,a.callbackStamp&&n._messageCallbacks[a.callbackStamp]){var o=a.callbackStamp;n._messageCallbacks[o].call(r,a),delete n._messageCallbacks[o]}delete a.what,delete a.callbackStamp,e.call(r,a)}};this._wrappedListeners[e]=i,window.addEventListener("message",i)}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,r){var n=function(n){if(!(!n.data||n.data.what!==Ue||!n.data.action||n.data.from&&"module"!==n.data.from||n.data.callFrameId&&t&&n.data.callFrameId!==t)){var i=n.data;e.call(r,i)}};this._wrappedListeners[e]=n,window.addEventListener("message",n)}},{key:"sendMessageToCallMachine",value:function(e,t,r,n){if(!n)throw new Error("undefined callFrameId. Are you trying to use a dailyIFrame instance previously destroyed?");var i=bt({},e);if(i.what=Ue,i.from="module",i.callFrameId=n,t){var a=ht();this._messageCallbacks[a]=t,i.callbackStamp=a}(r?r.contentWindow:window).postMessage(i,"*")}},{key:"sendMessageToDailyJs",value:function(e,t){e.what=Ue,e.callFrameId=t,e.from="embedded",window.postMessage(e,"*")}},{key:"removeListener",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener("message",t),delete this._wrappedListeners[e])}},{key:"forwardPackagedMessageToCallMachine",value:function(e,t,r){var n=bt({},e);n.callFrameId=r,(t?t.contentWindow:window).postMessage(n,"*")}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e,t){var r=function(r){if(r.data&&"iframe-call-message"===r.data.what&&(!r.data.callFrameId||r.data.callFrameId===t)&&(!r.data.from||"module"!==r.data.from)){var n=r.data;e(n)}};return this._wrappedListeners[e]=r,window.addEventListener("message",r),e}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){var t=this._wrappedListeners[e];t&&(window.removeEventListener("message",t),delete this._wrappedListeners[e])}}]),r}();var kt=function(e){g(n,mt);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}(n);function n(){var e;return u(this,n),e=t.call(this),r.g.callMachineToDailyJsEmitter=r.g.callMachineToDailyJsEmitter||new M.EventEmitter,r.g.dailyJsToCallMachineEmitter=r.g.dailyJsToCallMachineEmitter||new M.EventEmitter,e._wrappedListeners={},e._messageCallbacks={},e}return h(n,[{key:"addListenerForMessagesFromCallMachine",value:function(e,t,n){this._addListener(e,r.g.callMachineToDailyJsEmitter,n,"received call machine message")}},{key:"addListenerForMessagesFromDailyJs",value:function(e,t,n){this._addListener(e,r.g.dailyJsToCallMachineEmitter,n,"received daily-js message")}},{key:"sendMessageToCallMachine",value:function(e,t){this._sendMessage(e,r.g.dailyJsToCallMachineEmitter,"sending message to call machine",t)}},{key:"sendMessageToDailyJs",value:function(e){this._sendMessage(e,r.g.callMachineToDailyJsEmitter,"sending message to daily-js")}},{key:"removeListener",value:function(e){var t=this._wrappedListeners[e];t&&(r.g.callMachineToDailyJsEmitter.removeListener("message",t),r.g.dailyJsToCallMachineEmitter.removeListener("message",t),delete this._wrappedListeners[e])}},{key:"_addListener",value:function(e,t,r,n){var i=this,a=function(t){if(t.callbackStamp&&i._messageCallbacks[t.callbackStamp]){var n=t.callbackStamp;i._messageCallbacks[n].call(r,t),delete i._messageCallbacks[n]}e.call(r,t)};this._wrappedListeners[e]=a,t.addListener("message",a)}},{key:"_sendMessage",value:function(e,t,r,n){if(n){var i=ht();this._messageCallbacks[i]=n,e.callbackStamp=i}t.emit("message",e)}}]),n}(),_t=Object.prototype.hasOwnProperty;function St(e,t,r){var n,a=(0,i.Z)(e.keys());try{for(a.s();!(n=a.n()).done;)if(Mt(r=n.value,t))return r}catch(o){a.e(o)}finally{a.f()}}function Mt(e,t){var r,n,a;if(e===t)return!0;if(e&&t&&(r=e.constructor)===t.constructor){if(r===Date)return e.getTime()===t.getTime();if(r===RegExp)return e.toString()===t.toString();if(r===Array){if((n=e.length)===t.length)for(;n--&&Mt(e[n],t[n]););return-1===n}if(r===Set){if(e.size!==t.size)return!1;var o,s=(0,i.Z)(e);try{for(s.s();!(o=s.n()).done;){if((a=n=o.value)&&"object"==typeof a&&!(a=St(t,a)))return!1;if(!t.has(a))return!1}}catch(l){s.e(l)}finally{s.f()}return!0}if(r===Map){if(e.size!==t.size)return!1;var c,u=(0,i.Z)(e);try{for(u.s();!(c=u.n()).done;){if((a=(n=c.value)[0])&&"object"==typeof a&&!(a=St(t,a)))return!1;if(!Mt(n[1],t.get(a)))return!1}}catch(l){u.e(l)}finally{u.f()}return!0}if(r===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(r===DataView){if((n=e.byteLength)===t.byteLength)for(;n--&&e.getInt8(n)===t.getInt8(n););return-1===n}if(ArrayBuffer.isView(e)){if((n=e.byteLength)===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}if(!r||"object"==typeof e){for(r in n=0,e){if(_t.call(e,r)&&++n&&!_t.call(t,r))return!1;if(!(r in t)||!Mt(e[r],t[r]))return!1}return Object.keys(t).length===n}}return e!=e&&t!=t}var Ct="replace",Ot="shallow-merge",jt=[Ct,Ot],Tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.data,n=t.mergeStrategy,i=void 0===n?Ct:n;u(this,e),e._validateMergeStrategy(i),e._validateData(r,i),this.mergeStrategy=i,this.data=r}return h(e,[{key:"isNoOp",value:function(){return e.isNoOpUpdate(this.data,this.mergeStrategy)}}],[{key:"isNoOpUpdate",value:function(e,t){return 0===Object.keys(e).length&&t===Ot}},{key:"_validateMergeStrategy",value:function(e){if(!jt.includes(e))throw Error("Unrecognized mergeStrategy provided. Options are: [".concat(jt,"]"))}},{key:"_validateData",value:function(e,t){if(!function(e){if(null==e||"object"!==l(e))return!1;var t=Object.getPrototypeOf(e);return null==t||t===Object.prototype}(e))throw Error("Meeting session data must be a plain (map-like) object");var r;try{if(r=JSON.stringify(e),t===Ct){var n=JSON.parse(r);Mt(n,e)||console.warn("The meeting session data provided will be modified when serialized.",n,e)}else if(t===Ot)for(var i in e)if(Object.hasOwnProperty.call(e,i)&&void 0!==e[i]){var a=JSON.parse(JSON.stringify(e[i]));Mt(e[i],a)||console.warn("At least one key in the meeting session data provided will be modified when serialized.",a,e[i])}}catch(e){throw Error("Meeting session data must be serializable to JSON: ".concat(e))}if(r.length>Ze)throw Error("Meeting session data is too large (".concat(r.length," characters). Maximum size suppported is ").concat(Ze,"."))}}]),e}();function Pt(e,t,r){return Pt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&v(i,r.prototype),i},Pt.apply(null,arguments)}function At(e){var t="function"==typeof Map?new Map:void 0;return At=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Pt(e,arguments,y(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},At(e)}var xt=function(){function e(){u(this,e),this._currentLoad=null}return h(e,[{key:"load",value:function(e,t,r,n){if(this.loaded)return window._dailyCallObjectSetup(e),void r(!0);!function(e,t){window._dailyConfig||(window._dailyConfig={}),window._dailyConfig.callFrameId=e,window._dailyConfig.avoidEval=t}(e,t),this._currentLoad&&this._currentLoad.cancel(),this._currentLoad=new Et((function(){r(!1)}),n),this._currentLoad.start()}},{key:"cancel",value:function(){this._currentLoad&&this._currentLoad.cancel()}},{key:"loaded",get:function(){return this._currentLoad&&this._currentLoad.succeeded}}]),e}(),Et=function(){function e(t,r){u(this,e),this._attemptsRemaining=3,this._currentAttempt=null,this._successCallback=t,this._failureCallback=r}return h(e,[{key:"start",value:function(){var e=this;this._currentAttempt||(this._currentAttempt=new It(this._successCallback,(function t(r){e._currentAttempt.cancelled||(e._attemptsRemaining--,e._failureCallback(r,e._attemptsRemaining>0),e._attemptsRemaining<=0||setTimeout((function(){e._currentAttempt.cancelled||(e._currentAttempt=new It(e._successCallback,t),e._currentAttempt.start())}),3e3))})),this._currentAttempt.start())}},{key:"cancel",value:function(){this._currentAttempt&&this._currentAttempt.cancel()}},{key:"cancelled",get:function(){return this._currentAttempt&&this._currentAttempt.cancelled}},{key:"succeeded",get:function(){return this._currentAttempt&&this._currentAttempt.succeeded}}]),e}(),Ft=function(e){g(r,At(Error));var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r)}(),Lt=2e4,It=function(){function e(t,r){u(this,e),this._loadAttemptImpl=Xe()||!_dailyConfig.avoidEval?new Dt(t,r):new Bt(t,r)}var t;return h(e,[{key:"start",value:(t=c((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._loadAttemptImpl.start());case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._loadAttemptImpl.cancel()}},{key:"cancelled",get:function(){return this._loadAttemptImpl.cancelled}},{key:"succeeded",get:function(){return this._loadAttemptImpl.succeeded}}]),e}(),Dt=function(){function e(t,r){u(this,e),this.cancelled=!1,this.succeeded=!1,this._networkTimedOut=!1,this._networkTimeout=null,this._iosCache="undefined"!=typeof iOSCallObjectBundleCache&&iOSCallObjectBundleCache,this._refetchHeaders=null,this._successCallback=t,this._failureCallback=r}var t,r,i,a;return h(e,[{key:"start",value:(a=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=vt(),e.next=3,this._tryLoadFromIOSCache(t);case 3:if(e.t0=!e.sent,!e.t0){e.next=6;break}this._loadFromNetwork(t);case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"cancel",value:function(){clearTimeout(this._networkTimeout),this.cancelled=!0}},{key:"_tryLoadFromIOSCache",value:(i=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._iosCache){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,this._iosCache.get(t);case 5:return r=e.sent,e.abrupt("return",!!this.cancelled||!!r&&(r.code?(Function('"use strict";'+r.code)(),this.succeeded=!0,this._successCallback(),!0):(this._refetchHeaders=r.refetchHeaders,!1)));case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this,[[2,9]])}))),function(e){return i.apply(this,arguments)})},{key:"_loadFromNetwork",value:(r=c((0,n.Z)().mark((function e(t){var r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,this._networkTimeout=setTimeout((function(){r._networkTimedOut=!0,r._failureCallback("Timed out (>".concat(Lt," ms) when loading call object bundle ").concat(t))}),Lt),e.prev=2,i=this._refetchHeaders?{headers:this._refetchHeaders}:{},e.next=6,fetch(t,i);case 6:if(a=e.sent,clearTimeout(this._networkTimeout),!this.cancelled&&!this._networkTimedOut){e.next=9;break}throw new Ft;case 9:return e.next=11,this._getBundleCodeFromResponse(t,a);case 11:if(o=e.sent,!this.cancelled){e.next=14;break}throw new Ft;case 14:Function('"use strict";'+o)(),this._iosCache&&this._iosCache.set(t,o,a.headers),this.succeeded=!0,this._successCallback(),e.next=22;break;case 17:if(e.prev=17,e.t0=e.catch(2),clearTimeout(this._networkTimeout),!(e.t0 instanceof Ft||this.cancelled||this._networkTimedOut)){e.next=21;break}return e.abrupt("return");case 21:this._failureCallback("Failed to load call object bundle ".concat(t,": ").concat(e.t0));case 22:case"end":return e.stop()}}),e,this,[[2,17]])}))),function(e){return r.apply(this,arguments)})},{key:"_getBundleCodeFromResponse",value:(t=c((0,n.Z)().mark((function e(t,r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.ok){e.next=4;break}return e.next=3,r.text();case 3:return e.abrupt("return",e.sent);case 4:if(!this._iosCache||304!==r.status){e.next=8;break}return e.next=7,this._iosCache.renew(t,r.headers);case 7:return e.abrupt("return",e.sent.code);case 8:throw new Error("Received ".concat(r.status," response"));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),Bt=function(){function e(t,r){u(this,e),this.cancelled=!1,this.succeeded=!1,this._successCallback=t,this._failureCallback=r,this._attemptId=ht(),this._networkTimeout=null,this._scriptElement=null}var t;return h(e,[{key:"start",value:(t=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window._dailyCallMachineLoadWaitlist||(window._dailyCallMachineLoadWaitlist=new Set),t=vt(),"object"===("undefined"==typeof document?"undefined":l(document))?this._startLoading(t):this._failureCallback("Call object bundle must be loaded in a DOM/web context");case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(){this._stopLoading(),this.cancelled=!0}},{key:"_startLoading",value:function(e){var t=this;this._signUpForCallMachineLoadWaitlist(),this._networkTimeout=setTimeout((function(){t._stopLoading(),t._failureCallback("Timed out (>".concat(Lt," ms) when loading call object bundle ").concat(e))}),Lt);var r=document.getElementsByTagName("head")[0],i=document.createElement("script");this._scriptElement=i,i.onload=c((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._stopLoading(),t.succeeded=!0,t._successCallback();case 1:case"end":return e.stop()}}),e)}))),i.onerror=function(){var e=c((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._stopLoading(),t._failureCallback("Failed to load call object bundle ".concat(r.target.src));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.src=e,r.appendChild(i)}},{key:"_stopLoading",value:function(){this._withdrawFromCallMachineLoadWaitlist(),clearTimeout(this._networkTimeout),this._scriptElement&&(this._scriptElement.onload=null,this._scriptElement.onerror=null)}},{key:"_signUpForCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.add(this._attemptId)}},{key:"_withdrawFromCallMachineLoadWaitlist",value:function(){window._dailyCallMachineLoadWaitlist.delete(this._attemptId)}}]),e}(),Nt=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a},Rt=function(e,t,r){for(var n=-1,i=Object(e),a=r(e),o=a.length;o--;){var s=a[++n];if(!1===t(i[s],s,i))break}return e},Vt="object"==typeof S&&S&&S.Object===Object&&S,Zt=Vt,Ut="object"==typeof self&&self&&self.Object===Object&&self,zt=Zt||Ut||Function("return this")(),Jt=zt.Symbol,Wt=Jt,qt=Object.prototype,Gt=qt.hasOwnProperty,Ht=qt.toString,Kt=Wt?Wt.toStringTag:void 0,Qt=Object.prototype.toString,$t=function(e){var t=Gt.call(e,Kt),r=e[Kt];try{e[Kt]=void 0;var n=!0}catch(e){}var i=Ht.call(e);return n&&(t?e[Kt]=r:delete e[Kt]),i},Yt=Jt?Jt.toStringTag:void 0,Xt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Yt&&Yt in Object(e)?$t(e):function(e){return Qt.call(e)}(e)},er=function(e){return null!=e&&"object"==typeof e},tr=Xt,rr=er,nr=function(e){return rr(e)&&"[object Arguments]"==tr(e)},ir=er,ar=Object.prototype,or=ar.hasOwnProperty,sr=ar.propertyIsEnumerable,cr=nr(function(){return arguments}())?nr:function(e){return ir(e)&&or.call(e,"callee")&&!sr.call(e,"callee")},ur=Array.isArray,lr={},dr=function(){return!1};!function(e,t){var r=zt,n=dr,i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i?r.Buffer:void 0,s=(o?o.isBuffer:void 0)||n;e.exports=s}({get exports(){return lr},set exports(e){lr=e}},lr);var fr=/^(?:0|[1-9]\d*)$/,hr=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&fr.test(e))&&e>-1&&e%1==0&&e<t},pr=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vr=Xt,gr=pr,mr=er,yr={};yr["[object Float32Array]"]=yr["[object Float64Array]"]=yr["[object Int8Array]"]=yr["[object Int16Array]"]=yr["[object Int32Array]"]=yr["[object Uint8Array]"]=yr["[object Uint8ClampedArray]"]=yr["[object Uint16Array]"]=yr["[object Uint32Array]"]=!0,yr["[object Arguments]"]=yr["[object Array]"]=yr["[object ArrayBuffer]"]=yr["[object Boolean]"]=yr["[object DataView]"]=yr["[object Date]"]=yr["[object Error]"]=yr["[object Function]"]=yr["[object Map]"]=yr["[object Number]"]=yr["[object Object]"]=yr["[object RegExp]"]=yr["[object Set]"]=yr["[object String]"]=yr["[object WeakMap]"]=!1;var br=function(e){return function(t){return e(t)}},wr={};!function(e,t){var r=Vt,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,a=i&&i.exports===n&&r.process,o=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=o}({get exports(){return wr},set exports(e){wr=e}},wr);var kr=function(e){return mr(e)&&gr(e.length)&&!!yr[vr(e)]},_r=br,Sr=wr&&wr.isTypedArray,Mr=Sr?_r(Sr):kr,Cr=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Or=cr,jr=ur,Tr=lr,Pr=hr,Ar=Mr,xr=Object.prototype.hasOwnProperty,Er=Object.prototype,Fr=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),Lr=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Er)},Ir=Fr,Dr=Object.prototype.hasOwnProperty,Br=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Nr=Xt,Rr=Br,Vr=function(e){if(!Rr(e))return!1;var t=Nr(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Zr=Vr,Ur=pr,zr=function(e){return null!=e&&Ur(e.length)&&!Zr(e)},Jr=function(e,t){var r=jr(e),n=!r&&Or(e),i=!r&&!n&&Tr(e),a=!r&&!n&&!i&&Ar(e),o=r||n||i||a,s=o?Cr(e.length,String):[],c=s.length;for(var u in e)!t&&!xr.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pr(u,c))||s.push(u);return s},Wr=zr,qr=function(e){return Wr(e)?Jr(e):function(e){if(!Lr(e))return Ir(e);var t=[];for(var r in Object(e))Dr.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)},Gr=Rt,Hr=qr,Kr=zr,Qr=function(e,t){if(null==e)return e;if(!Kr(e))return function(e,t){return e&&Gr(e,t,Hr)}(e,t);for(var r=e.length,n=-1,i=Object(e);++n<r&&!1!==t(i[n],n,i););return e},$r=Qr,Yr=function(e,t){return e===t||e!=e&&t!=t},Xr=Yr,en=function(e,t){for(var r=e.length;r--;)if(Xr(e[r][0],t))return r;return-1},tn=en,rn=Array.prototype.splice,nn=en,an=en,on=en,sn=function(){this.__data__=[],this.size=0};function cn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cn.prototype.clear=sn,cn.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():rn.call(t,r,1),--this.size,!0)},cn.prototype.get=function(e){var t=this.__data__,r=nn(t,e);return r<0?void 0:t[r][1]},cn.prototype.has=function(e){return an(this.__data__,e)>-1},cn.prototype.set=function(e,t){var r=this.__data__,n=on(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var un,ln=cn,dn=ln,fn=zt["__core-js_shared__"],hn=(un=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||""))?"Symbol(src)_1."+un:"",pn=Function.prototype.toString,vn=function(e){if(null!=e){try{return pn.call(e)}catch(e){}try{return e+""}catch(e){}}return""},gn=Vr,mn=function(e){return!!hn&&hn in e},yn=Br,bn=vn,wn=/^\[object .+?Constructor\]$/,kn=Function.prototype,_n=Object.prototype,Sn=kn.toString,Mn=_n.hasOwnProperty,Cn=RegExp("^"+Sn.call(Mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),On=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!yn(e)||mn(e))&&(gn(e)?Cn:wn).test(bn(e))}(r)?r:void 0},jn=On(zt,"Map"),Tn=On(Object,"create"),Pn=Tn,An=Tn,xn=Object.prototype.hasOwnProperty,En=Tn,Fn=Object.prototype.hasOwnProperty,Ln=Tn,In=function(){this.__data__=Pn?Pn(null):{},this.size=0},Dn=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bn=function(e){var t=this.__data__;if(An){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return xn.call(t,e)?t[e]:void 0};function Nn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Nn.prototype.clear=In,Nn.prototype.delete=Dn,Nn.prototype.get=Bn,Nn.prototype.has=function(e){var t=this.__data__;return En?void 0!==t[e]:Fn.call(t,e)},Nn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ln&&void 0===t?"__lodash_hash_undefined__":t,this};var Rn=Nn,Vn=ln,Zn=jn,Un=function(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map},zn=Un,Jn=Un,Wn=Un,qn=Un;function Gn(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(Zn||Vn),string:new Rn}},Gn.prototype.delete=function(e){var t=zn(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return Jn(this,e).get(e)},Gn.prototype.has=function(e){return Wn(this,e).has(e)},Gn.prototype.set=function(e,t){var r=qn(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};var Hn=Gn,Kn=ln,Qn=jn,$n=Hn,Yn=ln,Xn=function(){this.__data__=new dn,this.size=0},ei=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ti=function(e){return this.__data__.get(e)},ri=function(e){return this.__data__.has(e)};function ni(e){var t=this.__data__=new Yn(e);this.size=t.size}ni.prototype.clear=Xn,ni.prototype.delete=ei,ni.prototype.get=ti,ni.prototype.has=ri,ni.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Kn){var n=r.__data__;if(!Qn||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $n(n)}return r.set(e,t),this.size=r.size,this};var ii=ni,ai=Hn;function oi(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new ai;++t<r;)this.add(e[t])}oi.prototype.add=oi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},oi.prototype.has=function(e){return this.__data__.has(e)};var si=oi,ci=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},ui=function(e,t){return e.has(t)},li=function(e,t,r,n,i,a){var o=1&r,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),l=a.get(t);if(u&&l)return u==t&&l==e;var d=-1,f=!0,h=2&r?new si:void 0;for(a.set(e,t),a.set(t,e);++d<s;){var p=e[d],v=t[d];if(n)var g=o?n(v,p,d,t,e,a):n(p,v,d,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(h){if(!ci(t,(function(e,t){if(!ui(h,t)&&(p===e||i(p,e,r,n,a)))return h.push(t)}))){f=!1;break}}else if(p!==v&&!i(p,v,r,n,a)){f=!1;break}}return a.delete(e),a.delete(t),f},di=zt.Uint8Array,fi=Yr,hi=li,pi=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},vi=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},gi=Jt?Jt.prototype:void 0,mi=gi?gi.valueOf:void 0,yi=ur,bi=Nt,wi=Object.prototype.propertyIsEnumerable,ki=Object.getOwnPropertySymbols,_i=function(e,t,r){var n=t(e);return yi(e)?n:function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}(n,r(e))},Si=ki?function(e){return null==e?[]:(e=Object(e),bi(ki(e),(function(t){return wi.call(e,t)})))}:function(){return[]},Mi=qr,Ci=function(e){return _i(e,Mi,Si)},Oi=Object.prototype.hasOwnProperty,ji=On(zt,"DataView"),Ti=jn,Pi=On(zt,"Promise"),Ai=On(zt,"Set"),xi=On(zt,"WeakMap"),Ei=Xt,Fi=vn,Li="[object Map]",Ii="[object Promise]",Di="[object Set]",Bi="[object WeakMap]",Ni="[object DataView]",Ri=Fi(ji),Vi=Fi(Ti),Zi=Fi(Pi),Ui=Fi(Ai),zi=Fi(xi),Ji=Ei;(ji&&Ji(new ji(new ArrayBuffer(1)))!=Ni||Ti&&Ji(new Ti)!=Li||Pi&&Ji(Pi.resolve())!=Ii||Ai&&Ji(new Ai)!=Di||xi&&Ji(new xi)!=Bi)&&(Ji=function(e){var t=Ei(e),r="[object Object]"==t?e.constructor:void 0,n=r?Fi(r):"";if(n)switch(n){case Ri:return Ni;case Vi:return Li;case Zi:return Ii;case Ui:return Di;case zi:return Bi}return t});var Wi=ii,qi=li,Gi=function(e,t,r,n,i,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new di(e),new di(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return fi(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=pi;case"[object Set]":var c=1&n;if(s||(s=vi),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=2,o.set(e,t);var l=hi(s(e),s(t),n,i,a,o);return o.delete(e),l;case"[object Symbol]":if(mi)return mi.call(e)==mi.call(t)}return!1},Hi=function(e,t,r,n,i,a){var o=1&r,s=Ci(e),c=s.length;if(c!=Ci(t).length&&!o)return!1;for(var u=c;u--;){var l=s[u];if(!(o?l in t:Oi.call(t,l)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<c;){var v=e[l=s[u]],g=t[l];if(n)var m=o?n(g,v,l,t,e,a):n(v,g,l,e,t,a);if(!(void 0===m?v===g||i(v,g,r,n,a):m)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(h=!1)}return a.delete(e),a.delete(t),h},Ki=Ji,Qi=ur,$i=lr,Yi=Mr,Xi="[object Arguments]",ea="[object Array]",ta="[object Object]",ra=Object.prototype.hasOwnProperty,na=er,ia=function e(t,r,n,i,a){return t===r||(null==t||null==r||!na(t)&&!na(r)?t!=t&&r!=r:function(e,t,r,n,i,a){var o=Qi(e),s=Qi(t),c=o?ea:Ki(e),u=s?ea:Ki(t),l=(c=c==Xi?ta:c)==ta,d=(u=u==Xi?ta:u)==ta,f=c==u;if(f&&$i(e)){if(!$i(t))return!1;o=!0,l=!1}if(f&&!l)return a||(a=new Wi),o||Yi(e)?qi(e,t,r,n,i,a):Gi(e,t,c,r,n,i,a);if(!(1&r)){var h=l&&ra.call(e,"__wrapped__"),p=d&&ra.call(t,"__wrapped__");if(h||p){var v=h?e.value():e,g=p?t.value():t;return a||(a=new Wi),i(v,g,r,n,a)}}return!!f&&(a||(a=new Wi),Hi(e,t,r,n,i,a))}(t,r,n,i,e,a))},aa=ii,oa=ia,sa=Br,ca=function(e){return e==e&&!sa(e)},ua=ca,la=qr,da=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}},fa=da,ha=Xt,pa=er,va=function(e){return"symbol"==typeof e||pa(e)&&"[object Symbol]"==ha(e)},ga=ur,ma=va,ya=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ba=/^\w*$/,wa=function(e,t){if(ga(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ma(e))||ba.test(e)||!ya.test(e)||null!=t&&e in Object(t)},ka=Hn;function _a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(_a.Cache||ka),r}_a.Cache=ka;var Sa=_a,Ma=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ca=/\\(\\)?/g,Oa=function(e){var t=Sa((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Ma,(function(e,r,n,i){t.push(n?i.replace(Ca,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}(),ja=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Ta=ja,Pa=ur,Aa=va,xa=Jt?Jt.prototype:void 0,Ea=xa?xa.toString:void 0,Fa=function e(t){if("string"==typeof t)return t;if(Pa(t))return Ta(t,e)+"";if(Aa(t))return Ea?Ea.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},La=ur,Ia=wa,Da=Oa,Ba=function(e,t){return La(e)?e:Ia(e,t)?[e]:Da(function(e){return null==e?"":Fa(e)}(e))},Na=va,Ra=function(e){if("string"==typeof e||Na(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Va=Ba,Za=Ra,Ua=function(e,t){for(var r=0,n=(t=Va(t,e)).length;null!=e&&r<n;)e=e[Za(t[r++])];return r&&r==n?e:void 0},za=Ua,Ja=Ba,Wa=cr,qa=ur,Ga=hr,Ha=pr,Ka=Ra,Qa=function(e,t){return null!=e&&t in Object(e)},$a=ia,Ya=function(e,t){return null!=e&&function(e,t,r){for(var n=-1,i=(t=Ja(t,e)).length,a=!1;++n<i;){var o=Ka(t[n]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Ha(i)&&Ga(o,i)&&(qa(e)||Wa(e))}(e,t,Qa)},Xa=wa,eo=ca,to=da,ro=Ra,no=function(e){return e},io=Ua,ao=wa,oo=Ra,so=function(e){var t=function(e){for(var t=la(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ua(i)]}return t}(e);return 1==t.length&&t[0][2]?fa(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,a=i,o=!n;if(null==e)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=r[i])[0],u=e[c],l=s[1];if(o&&s[2]){if(void 0===u&&!(c in e))return!1}else{var d=new aa;if(n)var f=n(u,l,c,e,t,d);if(!(void 0===f?oa(l,u,3,n,d):f))return!1}}return!0}(r,e,t)}},co=function(e,t){return Xa(e)&&eo(t)?to(ro(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:za(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?Ya(r,e):$a(t,n,3)}},uo=no,lo=ur,fo=function(e){return ao(e)?function(e){return function(t){return null==t?void 0:t[e]}}(oo(e)):function(e){return function(t){return io(t,e)}}(e)},ho=function(e){return"function"==typeof e?e:null==e?uo:"object"==typeof e?lo(e)?co(e[0],e[1]):so(e):fo(e)},po=Nt,vo=function(e,t){var r=[];return $r(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},go=ho,mo=ur,yo=Qr,bo=zr,wo=va,ko=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,a=wo(e),o=void 0!==t,s=null===t,c=t==t,u=wo(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0},_o=ja,So=Ua,Mo=ho,Co=br,Oo=no,jo=ur,To=function(e,t,r){t=t.length?_o(t,(function(e){return jo(e)?function(t){return So(t,1===e.length?e[0]:e)}:e})):[Oo];var n=-1;t=_o(t,Co(Mo));var i=function(e,t){var r=-1,n=bo(e)?Array(e.length):[];return yo(e,(function(e,i,a){n[++r]=t(e,i,a)})),n}(e,(function(e,r,i){return{criteria:_o(t,(function(t){return t(e)})),index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=ko(i[n],a[n]);if(c)return n>=s?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))},Po=ur,Ao=function(e,t,r){return!0===Fo(e.local,t,r)},xo=function(e,t,r){return e.local.streams&&e.local.streams[t]&&e.local.streams[t].stream&&e.local.streams[t].stream["get".concat("video"===r?"Video":"Audio","Tracks")]()[0]},Eo=function(e,t,r,n){var i=Lo(e,t,r,n);return i&&i.pendingTrack},Fo=function(e,t,r){if(!e)return!1;var n=function(e){switch(e){case"avatar":return!0;case"staged":return e;default:return!!e}},i=e.public.subscribedTracks;return i&&i[t]?-1===["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo"].indexOf(r)&&i[t].custom?[!0,"staged"].includes(i[t].custom)?n(i[t].custom):n(i[t].custom[r]):n(i[t][r]):!i||n(i.ALL)},Lo=function(e,t,r,n){var i=function(e,t,r,n){return null==e?[]:(Po(t)||(t=null==t?[]:[t]),Po(r=n?void 0:r)||(r=null==r?[]:[r]),To(e,t,r))}(function(e,t){return(mo(e)?po:vo)(e,go(t))}(e.streams,(function(e){return e.participantId===t&&e.type===r&&e.pendingTrack&&e.pendingTrack.kind===n})),"starttime","desc");return i&&i[0]},Io=function(e,t){var r=e.local.public.customTracks;if(r&&r[t])return r[t].track};function Do(e){for(var t=store.getState(),r=0,n=["cam","screen"];r<n.length;r++)for(var i=n[r],a=0,o=["video","audio"];a<o.length;a++){var s=o[a],c="cam"===i?s:"screen".concat(s.charAt(0).toUpperCase()+s.slice(1)),u=e.tracks[c];if(u){var l=e.local?xo(t,i,s):Eo(t,e.session_id,i,s);"playable"===u.state&&(u.track=l),u.persistentTrack=l}}}function Bo(e){try{var t=store.getState();for(var r in e.tracks)if(!No(r)){var n=e.tracks[r].kind;if(n){var i=e.tracks[r];if(i){var a=e.local?Io(t,r):Eo(t,e.session_id,r,n);"playable"===i.state&&(e.tracks[r].track=a),i.persistentTrack=a}}else console.error("unknown type for custom track")}}catch(e){console.error(e)}}function No(e){return["video","audio","screenVideo","screenAudio"].includes(e)}function Ro(e,t){var r=store.getState();if(e.local){if(e.audio)try{e.audioTrack=r.local.streams.cam.stream.getAudioTracks()[0],e.audioTrack||(e.audio=!1)}catch(e){}if(e.video)try{e.videoTrack=r.local.streams.cam.stream.getVideoTracks()[0],e.videoTrack||(e.video=!1)}catch(e){}if(e.screen)try{e.screenVideoTrack=r.local.streams.screen.stream.getVideoTracks()[0],e.screenAudioTrack=r.local.streams.screen.stream.getAudioTracks()[0],e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){}}else{var n=!0;try{var i=r.participants[e.session_id];i&&i.public&&i.public.rtcType&&"peer-to-peer"===i.public.rtcType.impl&&i.private&&!["connected","completed"].includes(i.private.peeringState)&&(n=!1)}catch(e){console.error(e)}if(!n)return e.audio=!1,e.audioTrack=!1,e.video=!1,e.videoTrack=!1,e.screen=!1,void(e.screenTrack=!1);try{if(r.streams,e.audio&&Ao(r,e.session_id,"cam-audio")){var a=Eo(r,e.session_id,"cam","audio");a&&(t&&t.audioTrack&&t.audioTrack.id===a.id?e.audioTrack=a:a.muted||(e.audioTrack=a)),e.audioTrack||(e.audio=!1)}if(e.video&&Ao(r,e.session_id,"cam-video")){var o=Eo(r,e.session_id,"cam","video");o&&(t&&t.videoTrack&&t.videoTrack.id===o.id?e.videoTrack=o:o.muted||(e.videoTrack=o)),e.videoTrack||(e.video=!1)}if(e.screen&&Ao(r,e.session_id,"screen-audio")){var s=Eo(r,e.session_id,"screen","audio");s&&(t&&t.screenAudioTrack&&t.screenAudioTrack.id===s.id?e.screenAudioTrack=s:s.muted||(e.screenAudioTrack=s))}if(e.screen&&Ao(r,e.session_id,"screen-video")){var c=Eo(r,e.session_id,"screen","video");c&&(t&&t.screenVideoTrack&&t.screenVideoTrack.id===c.id?e.screenVideoTrack=c:c.muted||(e.screenVideoTrack=c))}e.screenVideoTrack||e.screenAudioTrack||(e.screen=!1)}catch(e){console.error("unexpected error matching up tracks",e)}}}function Vo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Zo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Zo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Uo=new Map,zo=null;function Jo(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return Wo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var qo=new Map,Go=null,Ho=3e3;function Ko(e){Qo()?function(e){Uo.has(e)||(Uo.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){Uo.has(e)&&(Uo.get(e).lastDevicesString=JSON.stringify(t),zo||(zo=function(){var e=c((0,n.Z)().mark((function e(){var t,r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:r=e.sent,i=Vo(Uo.keys());try{for(i.s();!(t=i.n()).done;)a=t.value,(o=JSON.stringify(r))!==Uo.get(a).lastDevicesString&&(Uo.get(a).lastDevicesString=o,a(r))}catch(t){i.e(t)}finally{i.f()}case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),navigator.mediaDevices.addEventListener("devicechange",zo)))})))}(e):function(e){qo.has(e)||(qo.set(e,{}),navigator.mediaDevices.enumerateDevices().then((function(t){qo.has(e)&&(qo.get(e).lastDevicesString=JSON.stringify(t),Go||(Go=setInterval(c((0,n.Z)().mark((function e(){var t,r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.enumerateDevices();case 2:r=e.sent,i=Jo(qo.keys());try{for(i.s();!(t=i.n()).done;)a=t.value,(o=JSON.stringify(r))!==qo.get(a).lastDevicesString&&(qo.get(a).lastDevicesString=o,a(r))}catch(t){i.e(t)}finally{i.f()}case 5:case"end":return e.stop()}}),e)}))),Ho)))})))}(e)}function Qo(){return Xe()||void 0!==navigator.mediaDevices.ondevicechange}var $o,Yo=["preserveIframe"];function Xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ts(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var i=y(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return m(this,r)}}function rs(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return ns(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ns(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function ns(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var is="video",as="voice",os=Xe()?{data:{}}:{data:{},topology:"none"},ss={present:0,hidden:0},cs={maxBitrate:{min:1e5,max:25e5},maxFramerate:{min:1,max:30},scaleResolutionDownBy:{min:1,max:8}},us=Object.keys(cs),ls=["state","volume","simulcastEncodings"],ds={androidInCallNotification:{title:"string",subtitle:"string",iconName:"string",disableForCustomOverride:"boolean"},disableAutoDeviceManagement:{audio:"boolean",video:"boolean"}},fs={id:{iconPath:"string",iconPathDarkMode:"string",label:"string",tooltip:"string"}},hs={id:{allow:"string",controlledBy:"'*' | 'owners' | string[]",csp:"string",iconURL:"string",label:"string",loading:"'eager' | 'lazy'",location:"'main' | 'sidebar'",name:"string",referrerPolicy:"string",sandbox:"string",src:"string",srcdoc:"string",shared:"string[] | 'owners' | boolean"}},ps={customIntegrations:{validate:xs,help:Ps()},customTrayButtons:{validate:As,help:"customTrayButtons should be a dictionary of the type ".concat(JSON.stringify(fs))},url:{validate:function(e){return"string"==typeof e},help:"url should be a string"},baseUrl:{validate:function(e){return"string"==typeof e},help:"baseUrl should be a string"},token:{validate:function(e){return"string"==typeof e},help:"token should be a string",queryString:"t"},dailyConfig:{validate:function(e,t){try{return t.validateDailyConfig(e),window._dailyConfig||(window._dailyConfig={}),window._dailyConfig.experimentalGetUserMediaConstraintsModify=e.experimentalGetUserMediaConstraintsModify,window._dailyConfig.userMediaVideoConstraints=e.userMediaVideoConstraints,window._dailyConfig.userMediaAudioConstraints=e.userMediaAudioConstraints,window._dailyConfig.callObjectBundleUrlOverride=e.callObjectBundleUrlOverride,!0}catch(e){console.error("Failed to validate dailyConfig",e)}return!1},help:"Unsupported dailyConfig. Check error logs for detailed info."},reactNativeConfig:{validate:function(e){return Es(e,ds)},help:"reactNativeConfig should look like ".concat(JSON.stringify(ds),", all fields optional")},lang:{validate:function(e){return["de","en-us","en","es","fi","fr","it","jp","ka","nl","no","pl","pt","ru","sv","tr","user"].includes(e)},help:"language not supported. Options are: de, en-us, en, es, fi, fr, it, jp, ka, nl, no, pl, pt, ru, sv, tr, user"},userName:!0,userData:{validate:function(e){try{return Ss(e),!0}catch(e){return console.error(e),!1}},help:"invalid userData type provided"},startVideoOff:!0,startAudioOff:!0,activeSpeakerMode:!0,showLeaveButton:!0,showLocalVideo:!0,showParticipantsBar:!0,showFullscreenButton:!0,showUserNameChangeUI:!0,iframeStyle:!0,customLayout:!0,cssFile:!0,cssText:!0,bodyClass:!0,videoSource:{validate:function(e,t){return t._preloadCache.videoDeviceId=e,!0}},audioSource:{validate:function(e,t){return t._preloadCache.audioDeviceId=e,!0}},subscribeToTracksAutomatically:{validate:function(e,t){return t._preloadCache.subscribeToTracksAutomatically=e,!0}},theme:{validate:function(e){var t=["accent","accentText","background","backgroundAccent","baseText","border","mainAreaBg","mainAreaBgAccent","mainAreaText","supportiveText"],r=function(e){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!t.includes(i))return console.error('unsupported color "'.concat(i,'". Valid colors: ').concat(t.join(", "))),!1;if(!e[i].match(/^#[0-9a-f]{6}|#[0-9a-f]{3}$/i))return console.error("".concat(i,' theme color should be provided in valid hex color format. Received: "').concat(e[i],'"')),!1}return!0};return"object"===l(e)&&("light"in e&&"dark"in e||"colors"in e)?"light"in e&&"dark"in e?"colors"in e.light?"colors"in e.dark?r(e.light.colors)&&r(e.dark.colors):(console.error('Dark theme is missing "colors" property.',e),!1):(console.error('Light theme is missing "colors" property.',e),!1):r(e.colors):(console.error('Theme must contain either both "light" and "dark" properties, or "colors".',e),!1)},help:"unsupported theme configuration. Check error logs for detailed info."},layoutConfig:{validate:function(e){if("grid"in e){var t=e.grid;if("maxTilesPerPage"in t){if(!Number.isInteger(t.maxTilesPerPage))return console.error("grid.maxTilesPerPage should be an integer. You passed ".concat(t.maxTilesPerPage,".")),!1;if(t.maxTilesPerPage>49)return console.error("grid.maxTilesPerPage can't be larger than 49 without sacrificing browser performance. Please contact us at https://www.daily.co/contact to talk about your use case."),!1}if("minTilesPerPage"in t){if(!Number.isInteger(t.minTilesPerPage))return console.error("grid.minTilesPerPage should be an integer. You passed ".concat(t.minTilesPerPage,".")),!1;if(t.minTilesPerPage<1)return console.error("grid.minTilesPerPage can't be lower than 1."),!1;if("maxTilesPerPage"in t&&t.minTilesPerPage>t.maxTilesPerPage)return console.error("grid.minTilesPerPage can't be higher than grid.maxTilesPerPage."),!1}}return!0},help:"unsupported layoutConfig. Check error logs for detailed info."},receiveSettings:{validate:function(e){return Ms(e,{allowAllParticipantsKey:!1})},help:Ts({allowAllParticipantsKey:!1})},sendSettings:{validate:function(e,t){return!!function(e,t){try{return t.validateUpdateSendSettings(e),!0}catch(e){return console.error("Failed to validate send settings",e),!1}}(e,t)&&(t._preloadCache.sendSettings=e,!0)},help:"Invalid sendSettings provided. Check error logs for detailed info."},inputSettings:{validate:function(e,t){return!!Cs(e)&&(t._preloadCache.inputSettings||(t._preloadCache.inputSettings={}),Os(e),e.audio&&(t._preloadCache.inputSettings.audio=e.audio),e.video&&(t._preloadCache.inputSettings.video=e.video),!0)},help:js()},layout:{validate:function(e){return"custom-v1"===e||"browser"===e||"none"===e},help:'layout may only be set to "custom-v1"',queryString:"layout"},emb:{queryString:"emb"},embHref:{queryString:"embHref"},dailyJsVersion:{queryString:"dailyJsVersion"},strictMode:!0},vs={styles:{validate:function(e){for(var t in e)if("cam"!==t&&"screen"!==t)return!1;if(e.cam)for(var r in e.cam)if("div"!==r&&"video"!==r)return!1;if(e.screen)for(var n in e.screen)if("div"!==n&&"video"!==n)return!1;return!0},help:"styles format should be a subset of: { cam: {div: {}, video: {}}, screen: {div: {}, video: {}} }"},setSubscribedTracks:{validate:function(e,t){if(t._preloadCache.subscribeToTracksAutomatically)return!1;var r=[!0,!1,"staged"];if(r.includes(e)||!Xe()&&"avatar"===e)return!0;var n=["audio","video","screenAudio","screenVideo","rmpAudio","rmpVideo"];return function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var a in t)if("custom"===a){if(!r.includes(t[a])&&!e(t[a],!0))return!1}else{var o=!i&&!n.includes(a),s=!r.includes(t[a]);if(o||s)return!1}return!0}(e)},help:"setSubscribedTracks cannot be used when setSubscribeToTracksAutomatically is enabled, and should be of the form: "+"true".concat(Xe()?"":" | 'avatar'"," | false | 'staged' | { [audio: true|false|'staged'], [video: true|false|'staged'], [screenAudio: true|false|'staged'], [screenVideo: true|false|'staged'] }")},setAudio:!0,setVideo:!0,eject:!0,updatePermissions:{validate:function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var n=k(r[t],2),i=n[0],a=n[1];switch(i){case"hasPresence":if("boolean"!=typeof a)return!1;break;case"canSend":if(a instanceof Set){var o,s=["video","audio","screenVideo","screenAudio","customVideo","customAudio"],c=rs(a);try{for(c.s();!(o=c.n()).done;){var u=o.value;if(!s.includes(u))return!1}}catch(e){c.e(e)}finally{c.f()}}else if("boolean"!=typeof a)return!1;break;default:return!1}}return!0},help:"updatePermissions can take hasPresence and canSend permissions. hasPresence must be a boolean. canSend can be a boolean or an array of media types (video, audio, screenVideo, screenAudio, customVideo, customAudio)."}},gs=function(e){g(R,M);var t,r,i,a,o,s,d,f,v,m,y,w,k,_,S,C,O,j,T,P,A,x,E,F,L,I,D,B,N=ts(R);function R(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(this,R),b(p(t=N.call(this)),"startListeningForDeviceChanges",(function(){Ko(t.handleDeviceChange)})),b(p(t),"stopListeningForDeviceChanges",(function(){!function(e){Qo()?function(e){Uo.has(e)&&(Uo.delete(e),0===Uo.size&&zo&&(navigator.mediaDevices.removeEventListener("devicechange",zo),zo=null))}(e):function(e){qo.has(e)&&(qo.delete(e),0===qo.size&&Go&&(clearInterval(Go),Go=null))}(e)}(t.handleDeviceChange)})),b(p(t),"handleDeviceChange",(function(e){e=e.map((function(e){return JSON.parse(JSON.stringify(e))})),t.emit(Fe,{action:Fe,availableDevices:e})})),b(p(t),"handleNativeAppActiveStateChange",(function(e){t.disableReactNativeAutoDeviceManagement("video")||(e?t.camUnmutedBeforeLosingNativeActiveState&&t.setLocalVideo(!0):(t.camUnmutedBeforeLosingNativeActiveState=t.localVideo(),t.camUnmutedBeforeLosingNativeActiveState&&t.setLocalVideo(!1)))})),b(p(t),"handleNativeAudioFocusChange",(function(e){t.disableReactNativeAutoDeviceManagement("audio")||(t._hasNativeAudioFocus=e,t.toggleParticipantAudioBasedOnNativeAudioFocus(),t._hasNativeAudioFocus?t.micUnmutedBeforeLosingNativeAudioFocus&&t.setLocalAudio(!0):(t.micUnmutedBeforeLosingNativeAudioFocus=t.localAudio(),t.setLocalAudio(!1)))})),t.strictMode=void 0===n.strictMode||n.strictMode,$o){if(t._logDuplicateInstanceAttempt(),t.strictMode)throw new Error("Duplicate DailyIframe instances are not allowed")}else r=p(t),$o=r;if(n.dailyJsVersion=R.version(),t._iframe=e,t._callObjectMode="none"===n.layout&&!t._iframe,t._preloadCache={subscribeToTracksAutomatically:!0,audioDeviceId:null,videoDeviceId:null,outputDeviceId:null,inputSettings:null,sendSettings:null},t._callObjectMode&&(window._dailyPreloadCache=t._preloadCache),void 0!==n.showLocalVideo?t._callObjectMode?console.error("showLocalVideo is not available in call object mode"):t._showLocalVideo=!!n.showLocalVideo:t._showLocalVideo=!0,void 0!==n.showParticipantsBar?t._callObjectMode?console.error("showParticipantsBar is not available in call object mode"):t._showParticipantsBar=!!n.showParticipantsBar:t._showParticipantsBar=!0,void 0!==n.customIntegrations?t._callObjectMode?console.error("customIntegrations is not available in call object mode"):t._customIntegrations=n.customIntegrations:t._customIntegrations={},void 0!==n.customTrayButtons?t._callObjectMode?console.error("customTrayButtons is not available in call object mode"):t._customTrayButtons=n.customTrayButtons:t._customTrayButtons={},void 0!==n.activeSpeakerMode?t._callObjectMode?console.error("activeSpeakerMode is not available in call object mode"):t._activeSpeakerMode=!!n.activeSpeakerMode:t._activeSpeakerMode=!1,n.receiveSettings?t._callObjectMode?t._receiveSettings=n.receiveSettings:console.error("receiveSettings is only available in call object mode"):t._receiveSettings={},t.validateProperties(n),t.properties=es({},n),t._preloadCache.inputSettings||(t._preloadCache.inputSettings={}),n.inputSettings&&n.inputSettings.audio&&(t._preloadCache.inputSettings.audio=n.inputSettings.audio),n.inputSettings&&n.inputSettings.video&&(t._preloadCache.inputSettings.video=n.inputSettings.video),t._callObjectLoader=t._callObjectMode?new xt:null,t._callState=me,t._isPreparingToJoin=!1,t._accessState={access:Me},t._meetingSessionState=Is(os,t._callObjectMode),t._nativeInCallAudioMode=is,t._participants={},t._participantCounts=ss,t._rmpPlayerState={},t._waitingParticipants={},t._inputEventsOn={},t._network={threshold:"good",quality:100},t._activeSpeaker={},t._callFrameId=ht(),t._messageChannel=Xe()?new kt:new wt,t._iframe&&(t._iframe.requestFullscreen?t._iframe.addEventListener("fullscreenchange",(function(){document.fullscreenElement===t._iframe?(t.emit(Ne,{action:Ne}),t.sendMessageToCallMachine({action:Ne})):(t.emit(Re,{action:Re}),t.sendMessageToCallMachine({action:Re}))})):t._iframe.webkitRequestFullscreen&&t._iframe.addEventListener("webkitfullscreenchange",(function(){document.webkitFullscreenElement===t._iframe?(t.emit(Ne,{action:Ne}),t.sendMessageToCallMachine({action:Ne})):(t.emit(Re,{action:Re}),t.sendMessageToCallMachine({action:Re}))}))),Xe()){var i=t.nativeUtils();i.addAudioFocusChangeListener&&i.removeAudioFocusChangeListener&&i.addAppActiveStateChangeListener&&i.removeAppActiveStateChangeListener||console.warn("expected (add|remove)(AudioFocus|AppActiveState)ChangeListener to be available in React Native"),t._hasNativeAudioFocus=!0,i.addAudioFocusChangeListener(t.handleNativeAudioFocusChange),i.addAppActiveStateChangeListener(t.handleNativeAppActiveStateChange)}return t._callObjectMode&&t.startListeningForDeviceChanges(),t._messageChannel.addListenerForMessagesFromCallMachine(t.handleMessageFromCallMachine,t._callFrameId,p(t)),t}return h(R,[{key:"destroy",value:(B=c((0,n.Z)().mark((function e(){var t,r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.leave();case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:(t=this._iframe)&&(r=t.parentElement)&&r.removeChild(t),this._messageChannel.removeListener(this.handleMessageFromCallMachine),Xe()&&((i=this.nativeUtils()).removeAudioFocusChangeListener(this.handleNativeAudioFocusChange),i.removeAppActiveStateChangeListener(this.handleNativeAppActiveStateChange)),this._callObjectMode&&this.stopListeningForDeviceChanges(),this.resetMeetingDependentVars(),this._destroyed=!0;try{this.emit("call-instance-destroyed",{action:"call-instance-destroyed"})}catch(t){console.log("could not emit call-instance-destroyed")}this.strictMode&&(this._callFrameId=void 0),$o=void 0;case 13:case"end":return e.stop()}}),e,this,[[0,5]])}))),function(){return B.apply(this,arguments)})},{key:"isDestroyed",value:function(){return!!this._destroyed}},{key:"loadCss",value:function(e){var t=e.bodyClass,r=e.cssFile,n=e.cssText;return ks(),this.sendMessageToCallMachine({action:"load-css",cssFile:this.absoluteUrl(r),bodyClass:t,cssText:n}),this}},{key:"iframe",value:function(){return ks(),this._iframe}},{key:"meetingState",value:function(){return this._callState}},{key:"accessState",value:function(){return bs(this._callObjectMode,"accessState()"),this._accessState}},{key:"participants",value:function(){return this._participants}},{key:"participantCounts",value:function(){return this._participantCounts}},{key:"waitingParticipants",value:function(){return bs(this._callObjectMode,"waitingParticipants()"),this._waitingParticipants}},{key:"validateParticipantProperties",value:function(e,t){for(var r in t){if(!vs[r])throw new Error("unrecognized updateParticipant property ".concat(r));if(vs[r].validate&&!vs[r].validate(t[r],this,this._participants[e]))throw new Error(vs[r].help)}}},{key:"updateParticipant",value:function(e,t){return this._participants.local&&this._participants.local.session_id===e&&(e="local"),e&&t&&(this.validateParticipantProperties(e,t),this.sendMessageToCallMachine({action:"update-participant",id:e,properties:t})),this}},{key:"updateParticipants",value:function(e){var t=this._participants.local&&this._participants.local.session_id;for(var r in e)r===t&&(r="local"),r&&e[r]&&this.validateParticipantProperties(r,e[r]);return this.sendMessageToCallMachine({action:"update-participants",participants:e}),this}},{key:"updateWaitingParticipant",value:(D=c((0,n.Z)().mark((function e(){var t,r,i,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=a.length>0&&void 0!==a[0]?a[0]:"",i=a.length>1&&void 0!==a[1]?a[1]:{},bs(this._callObjectMode,"updateWaitingParticipant()"),ys(this._callState,"updateWaitingParticipant()"),"string"==typeof r&&"object"===l(i)){e.next=3;break}throw new Error("updateWaitingParticipant() must take an id string and a updates object");case 3:return e.abrupt("return",new Promise((function(e,n){t.sendMessageToCallMachine({action:"daily-method-update-waiting-participant",id:r,updates:i},(function(t){t.error&&n(t.error),t.id||n(new Error("unknown error in updateWaitingParticipant()")),e({id:t.id})}))})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return D.apply(this,arguments)})},{key:"updateWaitingParticipants",value:(I=c((0,n.Z)().mark((function e(){var t,r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=i.length>0&&void 0!==i[0]?i[0]:{},bs(this._callObjectMode,"updateWaitingParticipants()"),ys(this._callState,"updateWaitingParticipants()"),"object"===l(r)){e.next=3;break}throw new Error("updateWaitingParticipants() must take a mapping between ids and update objects");case 3:return e.abrupt("return",new Promise((function(e,n){t.sendMessageToCallMachine({action:"daily-method-update-waiting-participants",updatesById:r},(function(t){t.error&&n(t.error),t.ids||n(new Error("unknown error in updateWaitingParticipants()")),e({ids:t.ids})}))})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"requestAccess",value:(L=c((0,n.Z)().mark((function e(){var t,r,i,a,o,s,c=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,i=(r=c.length>0&&void 0!==c[0]?c[0]:{}).access,a=void 0===i?{level:Ce}:i,o=r.name,s=void 0===o?"":o,e.abrupt("return",(bs(this._callObjectMode,"requestAccess()"),ys(this._callState,"requestAccess()"),new Promise((function(e,r){t.sendMessageToCallMachine({action:"daily-method-request-access",access:a,name:s},(function(t){t.error&&r(t.error),t.access||r(new Error("unknown error in requestAccess()")),e({access:t.access,granted:t.granted})}))}))));case 2:case"end":return e.stop()}}),e,this)}))),function(){return L.apply(this,arguments)})},{key:"localAudio",value:function(){return this._participants.local?this._participants.local.audio:null}},{key:"localVideo",value:function(){return this._participants.local?this._participants.local.video:null}},{key:"setLocalAudio",value:function(e){return this.sendMessageToCallMachine({action:"local-audio",state:e}),this}},{key:"setLocalVideo",value:function(e){return this.sendMessageToCallMachine({action:"local-video",state:e}),this}},{key:"getReceiveSettings",value:(F=c((0,n.Z)().mark((function e(t){var r,i,a,o=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,i=(o.length>1&&void 0!==o[1]?o[1]:{}).showInheritedValues,a=void 0!==i&&i,e.t0=(bs(this._callObjectMode,"getReceiveSettings()"),l(t)),e.next="string"===e.t0?4:"undefined"===e.t0?5:6;break;case 4:return e.abrupt("return",new Promise((function(e){r.sendMessageToCallMachine({action:"get-single-participant-receive-settings",id:t,showInheritedValues:a},(function(t){e(t.receiveSettings)}))})));case 5:return e.abrupt("return",this._receiveSettings);case 6:throw new Error('first argument to getReceiveSettings() must be a participant id (or "base"), or there should be no arguments');case 7:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{key:"updateReceiveSettings",value:(E=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,bs(this._callObjectMode,"updateReceiveSettings()"),Ms(t,{allowAllParticipantsKey:!0})){e.next=3;break}throw new Error(Ts({allowAllParticipantsKey:!0}));case 3:return e.abrupt("return",(ys(this._callState,"updateReceiveSettings()","To specify receive settings earlier, use the receiveSettings config property."),new Promise((function(e){r.sendMessageToCallMachine({action:"update-receive-settings",receiveSettings:t},(function(t){e({receiveSettings:t.receiveSettings})}))}))));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return E.apply(this,arguments)})},{key:"_prepInputSettingsToPresentToUser",value:function(e){var t,r,n,i,a,o,s,c;if(e){var u={},l="none"===(null===(t=e.audio)||void 0===t||null===(r=t.processor)||void 0===r?void 0:r.type)&&(null===(n=e.audio)||void 0===n||null===(i=n.processor)||void 0===i?void 0:i._isDefaultWhenNone);if(e.audio&&!l){var d=es({},e.audio.processor);delete d._isDefaultWhenNone,u.audio=es(es({},e.audio),{},{processor:d})}var f="none"===(null===(a=e.video)||void 0===a||null===(o=a.processor)||void 0===o?void 0:o.type)&&(null===(s=e.video)||void 0===s||null===(c=s.processor)||void 0===c?void 0:c._isDefaultWhenNone);if(e.video&&!f){var h=es({},e.video.processor);delete h._isDefaultWhenNone,u.video=es(es({},e.video),{},{processor:h})}return u}}},{key:"getInputSettings",value:function(){var e=this;return new Promise((function(t){t(e._getInputSettings())}))}},{key:"_getInputSettings",value:function(){var e,t,r,n,i,a,o,s,c={processor:{type:"none",_isDefaultWhenNone:!0}};this._inputSettings?(e=(null===(r=this._inputSettings)||void 0===r?void 0:r.video)||c,t=(null===(n=this._inputSettings)||void 0===n?void 0:n.audio)||c):(e=(null===(i=this._preloadCache)||void 0===i||null===(a=i.inputSettings)||void 0===a?void 0:a.video)||c,t=(null===(o=this._preloadCache)||void 0===o||null===(s=o.inputSettings)||void 0===s?void 0:s.audio)||c);var u={audio:t,video:e};return this._prepInputSettingsToPresentToUser(u)}},{key:"updateInputSettings",value:(x=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.abrupt("return",Cs(t)?(t&&(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),Os(t),t.audio&&(this._preloadCache.inputSettings.audio=t.audio),t.video&&(this._preloadCache.inputSettings.video=t.video)),Cs(t)?this._callObjectMode&&this.needsLoad()?this._getInputSettings():new Promise((function(e,n){r.sendMessageToCallMachine({action:"update-input-settings",inputSettings:t},(function(t){t.error?n(t.error):e({inputSettings:r._prepInputSettingsToPresentToUser(t.inputSettings)})}))})):this._getInputSettings()):(console.error(js()),Promise.reject(js())));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"setBandwidth",value:function(e){var t=e.kbs,r=e.trackConstraints;return ks(),this.sendMessageToCallMachine({action:"set-bandwidth",kbs:t,trackConstraints:r}),this}},{key:"getDailyLang",value:function(){var e=this;return ks(),new Promise(function(){var t=c((0,n.Z)().mark((function t(r){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.sendMessageToCallMachine({action:"get-daily-lang"},(function(e){delete e.action,delete e.callbackStamp,r(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setDailyLang",value:function(e){return ks(),this.sendMessageToCallMachine({action:"set-daily-lang",lang:e}),this}},{key:"getMeetingSession",value:(A=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",(ys(this._callState,"getMeetingSession()"),new Promise(function(){var e=c((0,n.Z)().mark((function e(r){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.sendMessageToCallMachine({action:"get-meeting-session"},(function(e){delete e.action,delete e.callbackStamp,delete e.callFrameId,r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e,this)}))),function(){return A.apply(this,arguments)})},{key:"meetingSessionState",value:function(){if(this._callState!==ke)throw new Error("meetingSessionState() is only available when joined");return this._meetingSessionState}},{key:"setMeetingSessionData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"replace";if(bs(this._callObjectMode,"setMeetingSessionData()"),this._callState!==ke)throw new Error("setMeetingSessionData() is only available when joined");try{!function(e,t){new Tt({data:e,mergeStrategy:t})}(e,t)}catch(e){throw console.error(e),e}try{this.sendMessageToCallMachine({action:"set-session-data",data:e,mergeStrategy:t})}catch(e){throw new Error("Error setting meeting session data: ".concat(e))}}},{key:"setUserName",value:function(e,t){var r=this;return this.properties.userName=e,new Promise((function(n){r.sendMessageToCallMachine({action:"set-user-name",name:null!=e?e:"",thisMeetingOnly:Xe()||!!t&&!!t.thisMeetingOnly},(function(e){delete e.action,delete e.callbackStamp,n(e)}))}))}},{key:"setUserData",value:(P=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,e.prev=1,Ss(t),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),e.t0;case 8:return e.abrupt("return",(this.properties.userData=t,new Promise((function(e){try{r.sendMessageToCallMachine({action:"set-user-data",userData:t},(function(t){delete t.action,delete t.callbackStamp,delete t.callFrameId,e(t)}))}catch(t){throw new Error("Error setting user data: ".concat(t))}}))));case 9:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return P.apply(this,arguments)})},{key:"startCamera",value:(T=c((0,n.Z)().mark((function e(){var t,r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=i.length>0&&void 0!==i[0]?i[0]:{},bs(this._callObjectMode,"startCamera()"),![we,ke].includes(this._callState)){e.next=3;break}throw new Error("startCamera() not supported after joining a meeting: did you mean to use setLocalAudio() and/or setLocalVideo() instead?");case 3:if(!this.needsLoad()){e.next=14;break}return e.prev=4,e.next=7,this.load(r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0));case 12:e.next=20;break;case 14:if(!this._didPreAuth){e.next=19;break}if(!r.url||r.url===this.properties.url){e.next=17;break}return e.abrupt("return",(console.error("url in startCamera() is different than the one used in preAuth()"),Promise.reject()));case 17:if(!r.token||r.token===this.properties.token){e.next=19;break}return e.abrupt("return",(console.error("token in startCamera() is different than the one used in preAuth()"),Promise.reject()));case 19:this.validateProperties(r),this.properties=es(es({},this.properties),r);case 20:return e.abrupt("return",new Promise((function(e){t.sendMessageToCallMachine({action:"start-camera",properties:ms(t.properties),preloadCache:ms(t._preloadCache)},(function(t){delete t.action,delete t.callbackStamp,e(t)}))})));case 21:case"end":return e.stop()}}),e,this,[[4,9]])}))),function(){return T.apply(this,arguments)})},{key:"validateCustomTrack",value:function(e,t,r){if(r&&r.length>50)throw new Error("Custom track `trackName` must not be more than 50 characters");if(t&&"music"!==t&&"speech"!==t&&!(t instanceof Object))throw new Error("Custom track `mode` must be either `music` | `speech` | `DailyMicAudioModeSettings` or `undefined`");if(r&&["cam-audio","cam-video","screen-video","screen-audio","rmpAudio","rmpVideo","customVideoDefaults"].includes(r))throw new Error("Custom track `trackName` must not match a track name already used by daily: cam-audio, cam-video, customVideoDefaults, screen-video, screen-audio, rmpAudio, rmpVideo");if(!(e instanceof MediaStreamTrack))throw new Error("Custom tracks provided must be instances of MediaStreamTrack")}},{key:"startCustomTrack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{track:track,mode:mode,trackName:trackName};if(ks(),this.validateCustomTrack(t.track,t.mode,t.trackName),this._callState!==ke)throw new Error("startCustomTrack() is only allowed when joined");return new Promise((function(r,n){window._dailyPreloadCache.customTrack=t.track,t.track=qe,e.sendMessageToCallMachine({action:"start-custom-track",properties:t},(function(e){e.error?n({error:e.error}):r(e.mediaTag)}))}))}},{key:"stopCustomTrack",value:function(e){var t=this;if(ks(),this._callState!==ke)throw new Error("stopCustomTrack() is only allowed when joined");return new Promise((function(r){t.sendMessageToCallMachine({action:"stop-custom-track",mediaTag:e},(function(e){r(e.mediaTag)}))}))}},{key:"setCamera",value:function(e){var t=this;if(_s(),this.needsLoad())throw new Error("Before you can invoke setCamera, first you need to invoke one of these methods: join, startCamera, or preAuth");return new Promise((function(r){t.sendMessageToCallMachine({action:"set-camera",cameraDeviceId:e},(function(e){r({device:e.device})}))}))}},{key:"setAudioDevice",value:(j=c((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _s(),this.nativeUtils().setAudioDevice(t),e.next=4,this.nativeUtils().getAudioDevice();case 4:return e.t0=e.sent,e.abrupt("return",{deviceId:e.t0});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return j.apply(this,arguments)})},{key:"cycleCamera",value:function(){var e=this;return new Promise((function(t){e.sendMessageToCallMachine({action:"cycle-camera"},(function(e){t({device:e.device})}))}))}},{key:"cycleMic",value:function(){var e=this;return ks(),new Promise((function(t){e.sendMessageToCallMachine({action:"cycle-mic"},(function(e){t({device:e.device})}))}))}},{key:"getCameraFacingMode",value:function(){var e=this;return _s(),new Promise((function(t){e.sendMessageToCallMachine({action:"get-camera-facing-mode"},(function(e){t(e.facingMode)}))}))}},{key:"setInputDevices",value:function(e){var t=e.audioDeviceId,r=e.videoDeviceId,n=e.audioSource,i=e.videoSource;return console.warn("setInputDevices() is deprecated: instead use setInputDevicesAsync(), which returns a Promise"),this.setInputDevicesAsync({audioDeviceId:t,videoDeviceId:r,audioSource:n,videoSource:i}),this}},{key:"setInputDevicesAsync",value:(O=c((0,n.Z)().mark((function e(t){var r,i,a,o,s;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=t.audioDeviceId,a=t.videoDeviceId,o=t.audioSource,s=t.videoSource,e.abrupt("return",(ks(),void 0!==o&&(i=o),void 0!==s&&(a=s),i&&(this._preloadCache.audioDeviceId=i),a&&(this._preloadCache.videoDeviceId=a),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:(i instanceof MediaStreamTrack&&(i=qe),a instanceof MediaStreamTrack&&(a=qe),new Promise((function(e){r.sendMessageToCallMachine({action:"set-input-devices",audioDeviceId:i,videoDeviceId:a},(function(t){delete t.action,delete t.callbackStamp,t.returnPreloadCache?e({camera:{deviceId:r._preloadCache.videoDeviceId},mic:{deviceId:r._preloadCache.audioDeviceId},speaker:{deviceId:r._preloadCache.outputDeviceId}}):e(t)}))})))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return O.apply(this,arguments)})},{key:"setOutputDevice",value:function(e){var t=e.outputDeviceId;return console.warn("setOutputDevice() is deprecated: instead use setOutputDeviceAsync(), which returns a Promise"),this.setOutputDeviceAsync({outputDeviceId:t}),this}},{key:"setOutputDeviceAsync",value:(C=c((0,n.Z)().mark((function e(t){var r,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=t.outputDeviceId,e.abrupt("return",(ks(),i&&(this._preloadCache.outputDeviceId=i),this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise((function(e){r.sendMessageToCallMachine({action:"set-output-device",outputDeviceId:i},(function(t){delete t.action,delete t.callbackStamp,t.returnPreloadCache?e({camera:{deviceId:r._preloadCache.videoDeviceId},mic:{deviceId:r._preloadCache.audioDeviceId},speaker:{deviceId:r._preloadCache.outputDeviceId}}):e(t)}))}))));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return C.apply(this,arguments)})},{key:"getInputDevices",value:(S=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",this._callObjectMode&&this.needsLoad()?{camera:{deviceId:this._preloadCache.videoDeviceId},mic:{deviceId:this._preloadCache.audioDeviceId},speaker:{deviceId:this._preloadCache.outputDeviceId}}:new Promise((function(e){t.sendMessageToCallMachine({action:"get-input-devices"},(function(r){delete r.action,delete r.callbackStamp,r.returnPreloadCache?e({camera:{deviceId:t._preloadCache.videoDeviceId},mic:{deviceId:t._preloadCache.audioDeviceId},speaker:{deviceId:t._preloadCache.outputDeviceId}}):e(r)}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return S.apply(this,arguments)})},{key:"nativeInCallAudioMode",value:function(){return _s(),this._nativeInCallAudioMode}},{key:"setNativeInCallAudioMode",value:function(e){if(_s(),[is,as].includes(e)){if(e!==this._nativeInCallAudioMode)return this._nativeInCallAudioMode=e,!this.disableReactNativeAutoDeviceManagement("audio")&&this._isCallPendingOrOngoing(this._callState,this._isPreparingToJoin)&&this.nativeUtils().setAudioMode(this._nativeInCallAudioMode),this}else console.error("invalid in-call audio mode specified: ",e)}},{key:"preAuth",value:(_=c((0,n.Z)().mark((function e(){var t,r,i=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=i.length>0&&void 0!==i[0]?i[0]:{},bs(this._callObjectMode,"preAuth()"),![we,ke].includes(this._callState)){e.next=3;break}throw new Error("preAuth() not supported after joining a meeting");case 3:if(e.t0=this.needsLoad(),!e.t0){e.next=7;break}return e.next=7,this.load(r);case 7:if(r.url){e.next=9;break}throw new Error("preAuth() requires at least a url to be provided");case 9:return e.abrupt("return",(this.validateProperties(r),this.properties=es(es({},this.properties),r),new Promise((function(e,r){t.sendMessageToCallMachine({action:"daily-method-preauth",properties:ms(t.properties)},(function(n){return n.error?r(n.error):n.access?(t._didPreAuth=!0,void e({access:n.access})):r(new Error("unknown error in preAuth()"))}))}))));case 10:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"load",value:(k=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,!this.needsLoad()){e.next=9;break}if(!this._destroyed||(this._logUseAfterDestroy(),!this.strictMode)){e.next=4;break}throw new Error("Use after destroy");case 4:if(t&&(this.validateProperties(t),this.properties=es(es({},this.properties),t)),this._callObjectMode||this.properties.url){e.next=6;break}throw new Error("can't load iframe meeting because url property isn't set");case 6:this._updateCallState(ye);try{this.emit(Pe,{action:Pe})}catch(t){console.log("could not emit 'loading'",t)}return e.abrupt("return",this._callObjectMode?new Promise((function(e,t){r._callObjectLoader.cancel(),r._callObjectLoader.load(r._callFrameId,r.properties.dailyConfig&&r.properties.dailyConfig.avoidEval,(function(t){r._updateCallState(be),t&&r.emit(xe,{action:xe}),e()}),(function(e,n){r.emit(Ae,{action:Ae,errorMsg:e}),n||(r._updateCallState(Se),r.resetMeetingDependentVars(),r.emit(Ve,{action:Ve,errorMsg:e}),t(e))}))})):(this._iframe.src=this.assembleMeetingUrl(),new Promise((function(e,t){r._loadedCallback=function(n){if(r._callState!==Se){for(var i in r._updateCallState(be),(r.properties.cssFile||r.properties.cssText)&&r.loadCss(r.properties),r._inputEventsOn)r.sendMessageToCallMachine({action:ze,on:i});e()}else t(n)}}))));case 9:case"end":return e.stop()}}),e,this)}))),function(e){return k.apply(this,arguments)})},{key:"join",value:(w=c((0,n.Z)().mark((function e(){var t,r,i,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,r=a.length>0&&void 0!==a[0]?a[0]:{},i=!1,!this.needsLoad()){e.next=13;break}return this.updateIsPreparingToJoin(!0),e.prev=3,e.next=6,this.load(r);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",(this.updateIsPreparingToJoin(!1),Promise.reject(e.t0)));case 11:e.next=21;break;case 13:if(i=!(!this.properties.cssFile&&!this.properties.cssText),!this._didPreAuth){e.next=18;break}if(!r.url||r.url===this.properties.url){e.next=16;break}return e.abrupt("return",(console.error("url in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()));case 16:if(!r.token||r.token===this.properties.token){e.next=18;break}return e.abrupt("return",(console.error("token in join() is different than the one used in preAuth()"),this.updateIsPreparingToJoin(!1),Promise.reject()));case 18:if(!r.url||this._callObjectMode||!r.url||r.url===this.properties.url){e.next=20;break}return e.abrupt("return",(console.error("url in join() is different than the one used in load() (".concat(this.properties.url," -> ").concat(r.url,")")),this.updateIsPreparingToJoin(!1),Promise.reject()));case 20:this.validateProperties(r),this.properties=es(es({},this.properties),r);case 21:if(void 0!==r.showLocalVideo&&(this._callObjectMode?console.error("showLocalVideo is not available in callObject mode"):this._showLocalVideo=!!r.showLocalVideo),void 0!==r.showParticipantsBar&&(this._callObjectMode?console.error("showParticipantsBar is not available in callObject mode"):this._showParticipantsBar=!!r.showParticipantsBar),this._callState!==ke&&this._callState!==we){e.next=23;break}return e.abrupt("return",(console.warn("already joined meeting, call leave() before joining again"),void this.updateIsPreparingToJoin(!1)));case 23:this._updateCallState(we,!1);try{this.emit(Ee,{action:Ee})}catch(t){console.log("could not emit 'joining-meeting'",t)}return e.abrupt("return",(this._preloadCache.inputSettings||(this._preloadCache.inputSettings={}),r.inputSettings&&r.inputSettings.audio&&(this._preloadCache.inputSettings.audio=r.inputSettings.audio),r.inputSettings&&r.inputSettings.video&&(this._preloadCache.inputSettings.video=r.inputSettings.video),this.sendMessageToCallMachine({action:"join-meeting",properties:ms(this.properties),preloadCache:ms(this._preloadCache)}),new Promise((function(e,r){t._joinedCallback=function(n,a){if(t._callState!==Se){if(t._updateCallState(ke),n)for(var o in n)t._callObjectMode&&(Do(n[o]),Bo(n[o]),Ro(n[o],t._participants[o])),t._participants[o]=es({},n[o]),t.toggleParticipantAudioBasedOnNativeAudioFocus();i&&t.loadCss(t.properties),e(n)}else r(a)}}))));case 26:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(){return w.apply(this,arguments)})},{key:"leave",value:(y=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise((function(e){if(t._callState===_e||t._callState===Se)e();else if(t._callObjectLoader&&!t._callObjectLoader.loaded){t._callObjectLoader.cancel(),t._updateCallState(_e),t.resetMeetingDependentVars();try{t.emit(_e,{action:_e})}catch(t){console.log("could not emit 'left-meeting'",t)}e()}else t._resolveLeave=e,t.sendMessageToCallMachine({action:"leave-meeting"})})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"startScreenShare",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ks(),e.mediaStream&&(this._preloadCache.screenMediaStream=e.mediaStream,e.mediaStream=qe),this.sendMessageToCallMachine({action:"local-screen-start",captureOptions:e})}},{key:"stopScreenShare",value:function(){ks(),this.sendMessageToCallMachine({action:"local-screen-stop"})}},{key:"startRecording",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(es({action:"local-recording-start"},e))}},{key:"updateRecording",value:function(e){var t=e.layout,r=void 0===t?{preset:"default"}:t,n=e.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-recording",layout:r,instanceId:n})}},{key:"stopRecording",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(es({action:"local-recording-stop"},e))}},{key:"startLiveStreaming",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(es({action:"daily-method-start-live-streaming"},e))}},{key:"updateLiveStreaming",value:function(e){var t=e.layout,r=void 0===t?{preset:"default"}:t,n=e.instanceId;this.sendMessageToCallMachine({action:"daily-method-update-live-streaming",layout:r,instanceId:n})}},{key:"addLiveStreamingEndpoints",value:function(e){var t=e.endpoints,r=e.instanceId;this.sendMessageToCallMachine({action:Je,endpointsOp:"add-endpoints",endpoints:t,instanceId:r})}},{key:"removeLiveStreamingEndpoints",value:function(e){var t=e.endpoints,r=e.instanceId;this.sendMessageToCallMachine({action:Je,endpointsOp:"remove-endpoints",endpoints:t,instanceId:r})}},{key:"stopLiveStreaming",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.sendMessageToCallMachine(es({action:"daily-method-stop-live-streaming"},e))}},{key:"validateDailyConfig",value:function(e){e.camSimulcastEncodings&&this.validateSimulcastEncodings(e.camSimulcastEncodings)}},{key:"validateSimulcastEncodings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){if(!(e instanceof Array))throw new Error("encodings must be an Array");if(!Ls(e.length,1,3))throw new Error("encodings must be an Array with between 1 to ".concat(3," layers"));for(var n=0;n<e.length;n++){var i=e[n];for(var a in i){if(!us.includes(a))throw new Error("Invalid key ".concat(a,", valid keys are:")+Object.values(us));if("number"!=typeof i[a])throw new Error("".concat(a," must be a number"));if(t){var o=t[a],s=o.min,c=o.max;if(!Ls(i[a],s,c))throw new Error("".concat(a," value not in range. valid range: ").concat(s," to ").concat(c))}}if(r&&!i.hasOwnProperty("maxBitrate"))throw new Error("maxBitrate is not specified")}}}},{key:"startRemoteMediaPlayer",value:(m=c((0,n.Z)().mark((function e(t){var r,i,a,o;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,i=t.url,a=t.settings,o=void 0===a?{state:Ke.PLAY}:a,e.prev=1,!function(e){if("string"!=typeof e)throw new Error('url parameter must be "string" type')}(i),Fs(o),function(e){for(var t in e)if(!ls.includes(t))throw new Error("Invalid key ".concat(t,", valid keys are: ").concat(ls));e.simulcastEncodings&&this.validateSimulcastEncodings(e.simulcastEncodings,cs,!0)}(o),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error("invalid argument Error: ".concat(e.t0)),console.error('startRemoteMediaPlayer arguments must be of the form: \n  { url: "playback url", \n  settings?: \n  {state: "play"|"pause", simulcastEncodings?: [{}] } }'),e.t0;case 8:return e.abrupt("return",new Promise(function(){var e=c((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.sendMessageToCallMachine({action:"daily-method-start-remote-media-player",url:i,settings:o},(function(e){e.error?a({error:e.error,errorMsg:e.errorMsg}):t({session_id:e.session_id,remoteMediaPlayerState:{state:e.state,settings:e.settings}})}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return m.apply(this,arguments)})},{key:"stopRemoteMediaPlayer",value:(v=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,"string"==typeof t){e.next=3;break}throw new Error(" remotePlayerID must be of type string");case 3:return e.abrupt("return",new Promise(function(){var e=c((0,n.Z)().mark((function e(i,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.sendMessageToCallMachine({action:"daily-method-stop-remote-media-player",session_id:t},(function(e){e.error?a({error:e.error,errorMsg:e.errorMsg}):i()}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"updateRemoteMediaPlayer",value:(f=c((0,n.Z)().mark((function e(t){var r,i,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this,i=t.session_id,a=t.settings,e.prev=1,Fs(a),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error("invalid argument Error: ".concat(e.t0)),console.error('updateRemoteMediaPlayer arguments must be of the form: \n  session_id: "participant session", \n  { settings?: {state: "play"|"pause"} }'),e.t0;case 8:return e.abrupt("return",new Promise(function(){var e=c((0,n.Z)().mark((function e(t,o){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.sendMessageToCallMachine({action:"daily-method-update-remote-media-player",session_id:i,settings:a},(function(e){e.error?o({error:e.error,errorMsg:e.errorMsg}):t({session_id:e.session_id,remoteMediaPlayerState:{state:e.state,settings:e.settings}})}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 9:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return f.apply(this,arguments)})},{key:"startTranscription",value:function(e){this.sendMessageToCallMachine(es({action:"daily-method-start-transcription"},e))}},{key:"stopTranscription",value:function(){this.sendMessageToCallMachine({action:"daily-method-stop-transcription"})}},{key:"getNetworkStats",value:function(){var e=this;return this._callState!==ke?{stats:{latest:{}}}:new Promise((function(t){e.sendMessageToCallMachine({action:"get-calc-stats"},(function(r){t(es({stats:r.stats},e._network))}))}))}},{key:"getCpuLoadStats",value:function(){var e=this;return this._callState!==ke?{cpuLoadState:void 0,stats:{}}:new Promise((function(t,r){e.sendMessageToCallMachine({action:"get-cpu-load-stats"},(function(e){t(e.cpuStats)}))}))}},{key:"_validateVideoSendSettings",value:function(e){var t=["default","bandwidth-optimized","bandwidth-and-quality-balanced","quality-optimized"],r="Video send settings should be either an object or one of the supported presets: ".concat(t.join());if("string"==typeof e){if(!t.includes(e))throw new Error(r)}else{if("object"!==l(e))throw new Error(r);if(!e.maxQuality&&!e.encodings)throw new Error("Video send settings must contain at least maxQuality or encodings attribute");if(e.maxQuality&&-1===["low","medium","high"].indexOf(e.maxQuality))throw new Error("maxQuality must be either low, medium or high");if(e.encodings){var n=!1;switch(Object.keys(e.encodings).length){case 1:n=!e.encodings.low;break;case 2:n=!e.encodings.low||!e.encodings.medium;break;case 3:n=!e.encodings.low||!e.encodings.medium||!e.encodings.high;break;default:n=!0}if(n)throw new Error("Encodings must be defined as: low, low and medium, or low, medium and high.")}}}},{key:"validateUpdateSendSettings",value:function(e){var t=this;if(!e||0===Object.keys(e).length)throw new Error("Send settings must contain at least information for one track!");Object.values(e).forEach((function(e){t._validateVideoSendSettings(e)}))}},{key:"updateSendSettings",value:function(e){var t=this;return this.validateUpdateSendSettings(e),this.needsLoad()?(this._preloadCache.sendSettings=e,{sendSettings:this._preloadCache.sendSettings}):new Promise((function(r,n){t.sendMessageToCallMachine({action:"update-send-settings",sendSettings:e},(function(e){e.error?n(e.error):r(e.sendSettings)}))}))}},{key:"getSendSettings",value:function(){return this._sendSettings||this._preloadCache.sendSettings}},{key:"getActiveSpeaker",value:function(){return ks(),this._activeSpeaker}},{key:"setActiveSpeakerMode",value:function(e){return ks(),this.sendMessageToCallMachine({action:"set-active-speaker-mode",enabled:e}),this}},{key:"activeSpeakerMode",value:function(){return ks(),this._activeSpeakerMode}},{key:"subscribeToTracksAutomatically",value:function(){return this._preloadCache.subscribeToTracksAutomatically}},{key:"setSubscribeToTracksAutomatically",value:function(e){return ys(this._callState,"setSubscribeToTracksAutomatically()","Use the subscribeToTracksAutomatically configuration property."),this._preloadCache.subscribeToTracksAutomatically=e,this.sendMessageToCallMachine({action:"daily-method-subscribe-to-tracks-automatically",enabled:e}),this}},{key:"enumerateDevices",value:(d=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,!this._callObjectMode){e.next=8;break}return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:e.t1=e.sent.map((function(e){return JSON.parse(JSON.stringify(e))})),e.t0={devices:e.t1},e.next=9;break;case 8:e.t0=new Promise((function(e){t.sendMessageToCallMachine({action:"enumerate-devices"},(function(t){e({devices:t.devices})}))}));case 9:return e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"sendAppMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*";if(JSON.stringify(e).length>4096)throw new Error("Message data too large. Max size is 4096");return this.sendMessageToCallMachine({action:"app-msg",data:e,to:t}),this}},{key:"addFakeParticipant",value:function(e){return ks(),this.sendMessageToCallMachine(es({action:"add-fake-participant"},e)),this}},{key:"setShowNamesMode",value:function(e){return ws(this._callObjectMode,"setShowNamesMode()"),ks(),e&&"always"!==e&&"never"!==e?(console.error('setShowNamesMode argument should be "always", "never", or false'),this):(this.sendMessageToCallMachine({action:"set-show-names",mode:e}),this)}},{key:"setShowLocalVideo",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ws(this._callObjectMode,"setShowLocalVideo()"),ks(),ys(this._callState,"setShowLocalVideo()"),"boolean"!=typeof e?(console.error("setShowLocalVideo only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-local-video",show:e}),this._showLocalVideo=e,this)}},{key:"showLocalVideo",value:function(){return ws(this._callObjectMode,"showLocalVideo()"),ks(),this._showLocalVideo}},{key:"setShowParticipantsBar",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return ws(this._callObjectMode,"setShowParticipantsBar()"),ks(),ys(this._callState,"setShowParticipantsBar()"),"boolean"!=typeof e?(console.error("setShowParticipantsBar only accepts a boolean value"),this):(this.sendMessageToCallMachine({action:"set-show-participants-bar",show:e}),this._showParticipantsBar=e,this)}},{key:"showParticipantsBar",value:function(){return ws(this._callObjectMode,"showParticipantsBar()"),ks(),this._showParticipantsBar}},{key:"customIntegrations",value:function(){return ks(),ws(this._callObjectMode,"customIntegrations()"),this._customIntegrations}},{key:"setCustomIntegrations",value:function(e){return ks(),ws(this._callObjectMode,"setCustomIntegrations()"),ys(this._callState,"setCustomIntegrations()"),xs(e)?(this.sendMessageToCallMachine({action:"set-custom-integrations",integrations:e}),this._customIntegrations=e,this):this}},{key:"startCustomIntegrations",value:function(e){var t=this;if(ks(),ws(this._callObjectMode,"startCustomIntegrations()"),ys(this._callState,"startCustomIntegrations()"),Array.isArray(e)&&e.some((function(e){return"string"!=typeof e}))||!Array.isArray(e)&&"string"!=typeof e)return console.error("startCustomIntegrations() only accepts string | string[]"),this;var r="string"==typeof e?[e]:e,n=r.filter((function(e){return!(e in t._customIntegrations)}));return n.length?(console.error("Can't find custom integration(s): \"".concat(n.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"start-custom-integrations",ids:r}),this)}},{key:"stopCustomIntegrations",value:function(e){var t=this;if(ks(),ws(this._callObjectMode,"stopCustomIntegrations()"),ys(this._callState,"stopCustomIntegrations()"),Array.isArray(e)&&e.some((function(e){return"string"!=typeof e}))||!Array.isArray(e)&&"string"!=typeof e)return console.error("stopCustomIntegrations() only accepts string | string[]"),this;var r="string"==typeof e?[e]:e,n=r.filter((function(e){return!(e in t._customIntegrations)}));return n.length?(console.error("Can't find custom integration(s): \"".concat(n.join(", "),'"')),this):(this.sendMessageToCallMachine({action:"stop-custom-integrations",ids:r}),this)}},{key:"customTrayButtons",value:function(){return ws(this._callObjectMode,"customTrayButtons()"),ks(),this._customTrayButtons}},{key:"updateCustomTrayButtons",value:function(e){return ws(this._callObjectMode,"updateCustomTrayButtons()"),ks(),ys(this._callState,"updateCustomTrayButtons()"),As(e)?(this.sendMessageToCallMachine({action:"update-custom-tray-buttons",btns:e}),this._customTrayButtons=e,this):(console.error("updateCustomTrayButtons only accepts a dictionary of the type ".concat(JSON.stringify(fs))),this)}},{key:"theme",value:function(){return ws(this._callObjectMode,"theme()"),this.properties.theme}},{key:"setTheme",value:function(e){var t=this;return ws(this._callObjectMode,"setTheme()"),new Promise((function(r,n){try{t.validateProperties({theme:e}),t.properties.theme=es({},e),t.sendMessageToCallMachine({action:"set-theme",theme:t.properties.theme});try{t.emit(Te,{action:Te,theme:t.properties.theme})}catch(e){console.log("could not emit 'theme-updated'",e)}r(t.properties.theme)}catch(e){n(e)}}))}},{key:"detectAllFaces",value:function(){var e=this;return ks(),new Promise((function(t){e.sendMessageToCallMachine({action:"detect-all-faces"},(function(e){delete e.action,delete e.callbackStamp,t(e)}))}))}},{key:"requestFullscreen",value:(s=c((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ks(),!this._iframe||document.fullscreenElement||!tt()){e.next=14;break}return e.prev=1,e.next=4,this._iframe.requestFullscreen;case 4:if(!e.sent){e.next=8;break}this._iframe.requestFullscreen(),e.next=9;break;case 8:this._iframe.webkitRequestFullscreen();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("could not make video call fullscreen",e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])}))),function(){return s.apply(this,arguments)})},{key:"exitFullscreen",value:function(){ks(),document.fullscreenElement?document.exitFullscreen():document.webkitFullscreenElement&&document.webkitExitFullscreen()}},{key:"getSidebarView",value:(o=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",this._callObjectMode?(console.error("getSidebarView is not available in callObject mode"),Promise.resolve(null)):new Promise((function(e){t.sendMessageToCallMachine({action:"get-sidebar-view"},(function(t){e(t.view)}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"setSidebarView",value:function(e){return this._callObjectMode?(console.error("setSidebarView is not available in callObject mode"),this):(this.sendMessageToCallMachine({action:"set-sidebar-view",view:e}),this)}},{key:"room",value:(a=c((0,n.Z)().mark((function e(){var t,r,i,a=arguments;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,r=(a.length>0&&void 0!==a[0]?a[0]:{}).includeRoomConfigDefaults,i=void 0===r||r,e.abrupt("return",this._accessState.access===Me||this.needsLoad()?this.properties.url?{roomUrlPendingJoin:this.properties.url}:null:new Promise((function(e){t.sendMessageToCallMachine({action:"lib-room-info",includeRoomConfigDefaults:i},(function(t){delete t.action,delete t.callbackStamp,e(t)}))})));case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"geo",value:(i=c((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://gs.daily.co/_ks_/x-swsl/:");case 3:return r=e.sent,e.t0=t,e.next=7,r.json();case 7:e.t1=e.sent.geo,e.t2={current:e.t1},(0,e.t0)(e.t2),e.next=15;break;case 12:e.prev=12,e.t3=e.catch(0),console.error("geo lookup failed",e.t3),t({current:""});case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"setNetworkTopology",value:(r=c((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,e.abrupt("return",(ks(),new Promise(function(){var e=c((0,n.Z)().mark((function e(i,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.sendMessageToCallMachine({action:"set-network-topology",opts:t},(function(e){e.error?a({error:e.error}):i({workerId:e.workerId})}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getNetworkTopology",value:(t=c((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.abrupt("return",new Promise(function(){var e=c((0,n.Z)().mark((function e(r,i){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.sendMessageToCallMachine({action:"get-network-topology"},(function(e){e.error?i({error:e.error}):r({topology:e.topology})}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"setPlayNewParticipantSound",value:function(e){if(ks(),"number"!=typeof e&&!0!==e&&!1!==e)throw new Error("argument to setShouldPlayNewParticipantSound should be true, false, or a number, but is ".concat(e));this.sendMessageToCallMachine({action:"daily-method-set-play-ding",arg:e})}},{key:"on",value:function(e,t){return this._inputEventsOn[e]={},this.sendMessageToCallMachine({action:ze,on:e}),M.prototype.on.call(this,e,t)}},{key:"once",value:function(e,t){return this._inputEventsOn[e]={},this.sendMessageToCallMachine({action:ze,on:e}),M.prototype.once.call(this,e,t)}},{key:"off",value:function(e,t){return delete this._inputEventsOn[e],this.isDestroyed()||this.sendMessageToCallMachine({action:ze,off:e}),M.prototype.off.call(this,e,t)}},{key:"validateProperties",value:function(e){for(var t in e){if(!ps[t])throw new Error("unrecognized property '".concat(t,"'"));if(ps[t].validate&&!ps[t].validate(e[t],this))throw new Error("property '".concat(t,"': ").concat(ps[t].help))}}},{key:"assembleMeetingUrl",value:function(){var e=es(es({},this.properties),{},{emb:this._callFrameId,embHref:encodeURIComponent(window.location.href)}),t=e.url.match(/\?/)?"&":"?";return e.url+t+Object.keys(ps).filter((function(t){return ps[t].queryString&&void 0!==e[t]})).map((function(t){return"".concat(ps[t].queryString,"=").concat(e[t])})).join("&")}},{key:"needsLoad",value:function(){return[me,ye,_e,Se].includes(this._callState)}},{key:"sendMessageToCallMachine",value:function(e,t){if(this._destroyed&&(this._logUseAfterDestroy(),this.strictMode))throw new Error("Use after destroy");this._messageChannel.sendMessageToCallMachine(e,t,this._iframe,this._callFrameId)}},{key:"forwardPackagedMessageToCallMachine",value:function(e){this._messageChannel.forwardPackagedMessageToCallMachine(e,this._iframe,this._callFrameId)}},{key:"addListenerForPackagedMessagesFromCallMachine",value:function(e){return this._messageChannel.addListenerForPackagedMessagesFromCallMachine(e,this._callFrameId)}},{key:"removeListenerForPackagedMessagesFromCallMachine",value:function(e){this._messageChannel.removeListenerForPackagedMessagesFromCallMachine(e)}},{key:"handleMessageFromCallMachine",value:function(e){switch(e.action){case"iframe-ready-for-launch-config":this.sendMessageToCallMachine(es({action:"iframe-launch-config"},this.properties));break;case xe:this._loadedCallback&&(this._loadedCallback(),this._loadedCallback=null);try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"joined-meeting":this._joinedCallback&&(this._joinedCallback(e.participants),this._joinedCallback=null);try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"participant-joined":case"participant-updated":if(this._callState===_e)return;if(e.participant&&e.participant.session_id){var t=e.participant.local?"local":e.participant.session_id;this._callObjectMode&&(Do(e.participant),Bo(e.participant),Ro(e.participant,this._participants[t]));try{this.maybeParticipantTracksStopped(this._participants[t],e.participant),this.maybeParticipantTracksStarted(this._participants[t],e.participant),this.maybeEventRecordingStopped(this._participants[t],e.participant),this.maybeEventRecordingStarted(this._participants[t],e.participant)}catch(m){console.error("track events error",m)}if(!this.compareEqualForParticipantUpdateEvent(e.participant,this._participants[t])){this._participants[t]=es({},e.participant),this.toggleParticipantAudioBasedOnNativeAudioFocus();try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}}}break;case"participant-left":if(e.participant&&e.participant.session_id){var r=this._participants[e.participant.session_id];r&&this.maybeParticipantTracksStopped(r,null),delete this._participants[e.participant.session_id];try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}}break;case"participant-counts-updated":if(!ne(this._participantCounts,e.participantCounts)){this._participantCounts=e.participantCounts;try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}}break;case"access-state-updated":var n={access:e.access};if(e.awaitingAccess&&(n.awaitingAccess=e.awaitingAccess),!ne(this._accessState,n)){this._accessState=n;try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}}break;case"meeting-session-updated":if(e.meetingSession)try{delete e.callFrameId,this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case Ve:var i,a;this._iframe&&!e.preserveIframe&&(this._iframe.src=""),this._updateCallState(Se),this.resetMeetingDependentVars(),this._loadedCallback&&(this._loadedCallback(e.errorMsg),this._loadedCallback=null),e.preserveIframe;var o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Yo);null!=o&&null!==(i=o.error)&&void 0!==i&&null!==(a=i.details)&&void 0!==a&&a.sourceError&&(o.error.details.sourceError=JSON.parse(o.error.details.sourceError)),this._joinedCallback&&(this._joinedCallback(null,o),this._joinedCallback=null);try{this.emit(e.action,o)}catch(m){console.log("could not emit",e,m)}break;case"left-meeting":this._callState!==Se&&this._updateCallState(_e),this.resetMeetingDependentVars(),this._resolveLeave&&(this._resolveLeave(),this._resolveLeave=null);try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"selected-devices-updated":if(e.devices)try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"network-quality-change":var s=e.threshold,c=e.quality;if(s!==this._network.threshold||c!==this._network.quality){this._network.quality=c,this._network.threshold=s;try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}}break;case"cpu-load-change":if(e&&e.cpuLoadState)try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"active-speaker-change":var u=e.activeSpeaker;if(this._activeSpeaker.peerId!==u.peerId){this._activeSpeaker.peerId=u.peerId;try{this.emit(e.action,{action:e.action,activeSpeaker:this._activeSpeaker})}catch(m){console.log("could not emit",e,m)}}break;case"show-local-video-changed":if(this._callObjectMode)return;var l=e.show;this._showLocalVideo=l;try{this.emit(e.action,{action:e.action,show:l})}catch(m){console.log("could not emit",e,m)}break;case"active-speaker-mode-change":var d=e.enabled;if(this._activeSpeakerMode!==d){this._activeSpeakerMode=d;try{this.emit(e.action,{action:e.action,enabled:this._activeSpeakerMode})}catch(m){console.log("could not emit",e,m)}}break;case"waiting-participant-added":case"waiting-participant-updated":case"waiting-participant-removed":this._waitingParticipants=e.allWaitingParticipants;try{this.emit(e.action,{action:e.action,participant:e.participant})}catch(m){console.log("could not emit",e,m)}break;case"receive-settings-updated":if(!ne(this._receiveSettings,e.receiveSettings)){this._receiveSettings=e.receiveSettings;try{this.emit(e.action,{action:e.action,receiveSettings:e.receiveSettings})}catch(m){console.log("could not emit",e,m)}}break;case"input-settings-updated":if(!ne(this._inputSettings,e.inputSettings)){var f=this._getInputSettings();if(this._inputSettings=e.inputSettings,this._preloadCache.inputSettings={},!ne(f,this._getInputSettings()))try{this.emit(e.action,{action:e.action,inputSettings:this._getInputSettings()})}catch(m){console.log("could not emit",e,m)}}break;case"send-settings-updated":if(!ne(this._sendSettings,e.sendSettings)){this._sendSettings=e.sendSettings,this._preloadCache.sendSettings={};try{this.emit(e.action,{action:e.action,sendSettings:e.sendSettings})}catch(m){console.log("could not emit",e,m)}}break;case"remote-media-player-started":var h=e.session_id;this._rmpPlayerState[h]=e.playerState,this.emitDailyJSEvent(e);break;case"remote-media-player-stopped":delete this._rmpPlayerState[e.session_id],this.emitDailyJSEvent(e);break;case"remote-media-player-updated":var p=e.session_id,v=this._rmpPlayerState[p];v&&this.compareEqualForRMPUpdateEvent(v,e.remoteMediaPlayerState)||(this._rmpPlayerState[p]=e.remoteMediaPlayerState,this.emitDailyJSEvent(e));break;case"custom-button-click":case"sidebar-view-changed":this.emitDailyJSEvent(e);break;case"meeting-session-state-updated":var g=this._meetingSessionState.topology!==(e.meetingSessionState&&e.meetingSessionState.topology);this._meetingSessionState=Is(e.meetingSessionState,this._callObjectMode),(this._callObjectMode||g)&&this.emitDailyJSEvent(e);break;case De:case Be:case"recording-stats":case"recording-error":case"recording-upload-completed":case"transcription-started":case"transcription-stopped":case"transcription-error":case"started-camera":case"camera-error":case"app-message":case"local-screen-share-started":case"local-screen-share-stopped":case"network-connection":case"recording-data":case"live-streaming-started":case"live-streaming-updated":case"live-streaming-stopped":case"live-streaming-error":case"nonfatal-error":case"lang-updated":try{this.emit(e.action,e)}catch(m){console.log("could not emit",e,m)}break;case"request-fullscreen":this.requestFullscreen();break;case"request-exit-fullscreen":this.exitFullscreen()}}},{key:"maybeEventRecordingStopped",value:function(e,t){var r="record";if(e&&!t.local&&!1===t[r]&&e[r]!==t[r])try{this.emit(Be,{action:Be})}catch(e){console.log("could not emit",e)}}},{key:"maybeEventRecordingStarted",value:function(e,t){var r="record";if(e&&!t.local&&!0===t[r]&&e[r]!==t[r])try{this.emit(De,{action:De})}catch(e){console.log("could not emit",e)}}},{key:"maybeEventTrackStopped",value:function(e,t,r,n){if(e&&("ended"===e.readyState||!t||e.id!==t.id))try{this.emit(Ie,{action:Ie,track:e,participant:r,type:n})}catch(e){console.log("maybeEventTrackStopped: could not emit",e)}}},{key:"maybeEventTrackStarted",value:function(e,t,r,n){if(t&&(!e||"ended"===e.readyState||t.id!==e.id))try{this.emit(Le,{action:Le,track:t,participant:r,type:n})}catch(e){console.log("maybeEventTrackStarted: could not emit",e)}}},{key:"maybeParticipantTracksStopped",value:function(e,t){if(e)for(var r in e.tracks)this.maybeEventTrackStopped(e.tracks[r].track,t&&t.tracks[r]?t.tracks[r].track:null,t,r)}},{key:"maybeParticipantTracksStarted",value:function(e,t){if(t)for(var r in t.tracks)this.maybeEventTrackStarted(e&&e.tracks[r]?e.tracks[r].track:null,t.tracks[r].track,t,r)}},{key:"compareEqualForRMPUpdateEvent",value:function(e,t){var r,n;return e.state===t.state&&(null===(r=e.settings)||void 0===r?void 0:r.volume)===(null===(n=t.settings)||void 0===n?void 0:n.volume)}},{key:"emitDailyJSEvent",value:function(t){try{this.emit(t.action,t)}catch(e){console.log("could not emit",t,e)}}},{key:"compareEqualForParticipantUpdateEvent",value:function(e,t){return!!ne(e,t)&&(!e.videoTrack||!t.videoTrack||e.videoTrack.id===t.videoTrack.id&&e.videoTrack.muted===t.videoTrack.muted&&e.videoTrack.enabled===t.videoTrack.enabled)&&(!e.audioTrack||!t.audioTrack||e.audioTrack.id===t.audioTrack.id&&e.audioTrack.muted===t.audioTrack.muted&&e.audioTrack.enabled===t.audioTrack.enabled)}},{key:"nativeUtils",value:function(){return Xe()?"undefined"==typeof DailyNativeUtils?(console.warn("in React Native, DailyNativeUtils is expected to be available"),null):DailyNativeUtils:null}},{key:"updateIsPreparingToJoin",value:function(e){this._updateCallState(this._callState,e)}},{key:"_updateCallState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isPreparingToJoin;if(e!==this._callState||t!==this._isPreparingToJoin){var r=this._callState,n=this._isPreparingToJoin;this._callState=e,this._isPreparingToJoin=t;var i=this._isCallPendingOrOngoing(r,n),a=this._isCallPendingOrOngoing(this._callState,this._isPreparingToJoin);i!==a&&(this.updateKeepDeviceAwake(a),this.updateDeviceAudioMode(a),this.updateShowAndroidOngoingMeetingNotification(a),this.updateNoOpRecordingEnsuringBackgroundContinuity(a))}}},{key:"resetMeetingDependentVars",value:function(){this._participants={},this._participantCounts=ss,this._waitingParticipants={},this._activeSpeaker={},this._activeSpeakerMode=!1,this._didPreAuth=!1,this._accessState={access:Me},this._meetingSessionState=Is(os,this._callObjectMode),this._receiveSettings={},this._inputSettings=void 0,this._sendSettings={},this._preloadCache}},{key:"updateKeepDeviceAwake",value:function(e){Xe()&&this.nativeUtils().setKeepDeviceAwake(e,this._callFrameId)}},{key:"updateDeviceAudioMode",value:function(e){if(Xe()&&!this.disableReactNativeAutoDeviceManagement("audio")){var t=e?this._nativeInCallAudioMode:"idle";this.nativeUtils().setAudioMode(t)}}},{key:"updateShowAndroidOngoingMeetingNotification",value:function(e){if(Xe()&&this.nativeUtils().setShowOngoingMeetingNotification){var t,r,n,i;if(this.properties.reactNativeConfig&&this.properties.reactNativeConfig.androidInCallNotification){var a=this.properties.reactNativeConfig.androidInCallNotification;t=a.title,r=a.subtitle,n=a.iconName,i=a.disableForCustomOverride}i&&(e=!1),this.nativeUtils().setShowOngoingMeetingNotification(e,t,r,n,this._callFrameId)}}},{key:"updateNoOpRecordingEnsuringBackgroundContinuity",value:function(e){Xe()&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity&&this.nativeUtils().enableNoOpRecordingEnsuringBackgroundContinuity(e)}},{key:"_isCallPendingOrOngoing",value:function(e,t){return[we,ke].includes(e)||t}},{key:"toggleParticipantAudioBasedOnNativeAudioFocus",value:function(){if(Xe()){var e=store.getState();for(var t in e.streams){var r=e.streams[t];r&&r.pendingTrack&&"audio"===r.pendingTrack.kind&&(r.pendingTrack.enabled=this._hasNativeAudioFocus)}}}},{key:"disableReactNativeAutoDeviceManagement",value:function(e){return this.properties.reactNativeConfig&&this.properties.reactNativeConfig.disableAutoDeviceManagement&&this.properties.reactNativeConfig.disableAutoDeviceManagement[e]}},{key:"absoluteUrl",value:function(e){if(void 0!==e){var t=document.createElement("a");return t.href=e,t.href}}},{key:"sayHello",value:function(){var e="hello, world.";return console.log(e),e}},{key:"_logUseAfterDestroy",value:function(){if(this.needsLoad())if($o&&!$o.needsLoad()){var e={action:We,level:"error",code:this.strictMode?9995:9997};$o.sendMessageToCallMachine(e)}else this.strictMode||console.error("You are are attempting to use a call instance that was previously destroyed, which is unsupported. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix this unsupported usage.");else{var t={action:We,level:"error",code:this.strictMode?9995:9997};this._messageChannel.sendMessageToCallMachine(t,null,this._iframe,this._callFrameId)}}},{key:"_logDuplicateInstanceAttempt",value:function(){$o.needsLoad()?this.strictMode||console.error("You are attempting to use multiple call instances simultaneously. This is unsupported and will result in unknown errors. Previous instances should be destroyed before creating new ones. Please remove `strictMode: false` from your constructor properties to enable strict mode to track down and fix these attempts."):$o.sendMessageToCallMachine({action:We,level:"error",code:this.strictMode?9990:9992})}}],[{key:"supportedBrowser",value:function(){if(Xe())return{supported:!0,mobile:!0,name:"React Native",version:null,supportsScreenShare:!1,supportsSfu:!0,supportsVideoProcessing:!1,supportsAudioProcessing:!1};var e=ge.getParser(Ye());return{supported:!!ot(),mobile:"mobile"===e.getPlatformType(),name:e.getBrowserName(),version:e.getBrowserVersion(),supportsFullscreen:!!tt(),supportsScreenShare:!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia&&function(e,t){if(!e||!t)return!0;switch(e){case"Chrome":return t.major>=75;case"Safari":return RTCRtpTransceiver.prototype.hasOwnProperty("currentDirection")&&!(13===t.major&&0===t.minor&&0===t.point);case"Firefox":return t.major>=67}return!0}(ct(),function(){switch(ct()){case"Chrome":return ut();case"Safari":return dt();case"Firefox":return ft();case"Edge":return function(){var e=0,t=0;if("undefined"!=typeof window){var r=Ye().match(/Edge\/(\d+).(\d+)/);if(r)try{e=parseInt(r[1]),t=parseInt(r[2])}catch(e){}}return{major:e,minor:t}}()}}())),supportsSfu:!!ot(),supportsVideoProcessing:nt(),supportsAudioProcessing:at()}}},{key:"version",value:function(){return"0.45.0"}},{key:"createCallObject",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layout="none",new R(null,e)}},{key:"wrap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ks(),!e||!e.contentWindow||"string"!=typeof e.src)throw new Error("DailyIframe::Wrap needs an iframe-like first argument");return t.layout||(t.customLayout?t.layout="custom-v1":t.layout="browser"),new R(e,t)}},{key:"createFrame",value:function(e,t){var r,n;ks(),e&&t?(r=e,n=t):e&&e.append?(r=e,n={}):(r=document.body,n=e||{});var i=n.iframeStyle;i||(i=r===document.body?{position:"fixed",border:"1px solid black",backgroundColor:"white",width:"375px",height:"450px",right:"1em",bottom:"1em"}:{border:0,width:"100%",height:"100%"});var a=document.createElement("iframe");window.navigator&&window.navigator.userAgent.match(/Chrome\/61\./)?a.allow="microphone, camera":a.allow="microphone; camera; autoplay; display-capture",a.style.visibility="hidden",r.appendChild(a),a.style.visibility=null,Object.keys(i).forEach((function(e){return a.style[e]=i[e]})),n.layout||(n.customLayout?n.layout="custom-v1":n.layout="browser");try{return new R(a,n)}catch(e){throw r.removeChild(a),e}}},{key:"createTransparentFrame",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ks();var t=document.createElement("iframe");return t.allow="microphone; camera; autoplay",t.style.cssText="\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      border: 0;\n      pointer-events: none;\n    ",document.body.appendChild(t),e.layout||(e.layout="custom-v1"),R.wrap(t,e)}},{key:"getCallInstance",value:function(){return $o}}]),R}();function ms(e){var t={};for(var r in e)e[r]instanceof MediaStreamTrack?t[r]=qe:"dailyConfig"===r?(e[r].modifyLocalSdpHook&&(window._dailyConfig&&(window._dailyConfig.modifyLocalSdpHook=e[r].modifyLocalSdpHook),delete e[r].modifyLocalSdpHook),e[r].modifyRemoteSdpHook&&(window._dailyConfig&&(window._dailyConfig.modifyRemoteSdpHook=e[r].modifyRemoteSdpHook),delete e[r].modifyRemoteSdpHook),t[r]=e[r]):t[r]=e[r];return t}function ys(e){var t=arguments.length>2?arguments[2]:void 0;if(e!==ke){var r="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," only supported after join.");throw t&&(r+=" ".concat(t)),console.error(r),new Error(r)}}function bs(e){if(!e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported on custom callObject instances");throw console.error(t),new Error(t)}}function ws(e){if(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This daily-js method"," is only supported as part of Daily's Prebuilt");throw console.error(t),new Error(t)}}function ks(){if(Xe())throw new Error("This daily-js method is not currently supported in React Native")}function _s(){if(!Xe())throw new Error("This daily-js method is only supported in React Native")}function Ss(e){if(void 0===e)return!0;var t;if("string"==typeof e)t=e;else try{t=JSON.stringify(e),ne(JSON.parse(t),e)||console.warn("The userData provided will be modified when serialized.")}catch(e){throw Error("userData must be serializable to JSON: ".concat(e))}if(t.length>4096)throw Error("userData is too large (".concat(t.length," characters). Maximum size suppported is ").concat(4096,"."));return!0}function Ms(e,t){for(var r=t.allowAllParticipantsKey,n=function(e){var t=["local"];return r||t.push("*"),e&&!t.includes(e)},i=function(e){return!!(void 0===e.layer||Number.isInteger(e.layer)&&e.layer>=0||"inherit"===e.layer)},a=function(e){return!!e&&!(e.video&&!i(e.video))&&!(e.screenVideo&&!i(e.screenVideo))},o=0,s=Object.entries(e);o<s.length;o++){var c=k(s[o],2),u=c[0],l=c[1];if(!n(u)||!a(l))return!1}return!0}function Cs(e){return"object"===l(e)&&!!(e.video&&"object"===l(e.video)||e.audio&&"object"===l(e.audio))&&!(e.video&&!function(e){var t=["type","config","publish"];if(!e)return!1;if("object"!==l(e))return!1;if(!function(e){return"string"==typeof e&&(!!Object.values(Ge).includes(e)||(console.error("inputSettings video processor type invalid"),!1))}(e.type))return!1;if(void 0!==e.publish&&"boolean"!=typeof e.publish)return!1;if("boolean"==typeof e.publish&&console.warn("inputSettings.video.processor: publish key has been deprecated; it will be ignored"),e.config){if("object"!==l(e.config))return!1;if(!function(e,t){var r=Object.keys(t);if(0===r.length)return!0;var n="invalid object in inputSettings -> video -> processor -> config";switch(e){case Ge.BGBLUR:return r.length>1||"strength"!==r[0]?(console.error(n),!1):!("number"!=typeof t.strength||t.strength<=0||t.strength>1||isNaN(t.strength))||(console.error("".concat(n,"; expected: {0 < strength <= 1}, got: ").concat(t.strength)),!1);case Ge.BGIMAGE:return!(void 0!==t.source&&!function(e){return"default"===e.source?(e.type="default",!0):gt(e.source)?(e.type="url",!!function(e){var t=new URL(e),r=t.pathname;if("data:"===t.protocol)try{var n=r.substring(r.indexOf(":")+1,r.indexOf(";")).split("/")[1];return $e.includes(n)}catch(e){return console.error("failed to deduce blob content type",e),!1}var i=r.split(".").at(-1).toLowerCase().trim();return $e.includes(i)}(e.source)||(console.error("invalid image type; supported types: [".concat($e.join(", "),"]")),!1)):(t=e.source,r=Number(t),isNaN(r)||!Number.isInteger(r)||r<=0||r>Qe?(console.error("invalid image selection; must be an int, > 0, <= ".concat(Qe)),!1):(e.type="daily-preselect",!0));var t,r}(t));default:return!0}}(e.type,e.config))return!1}return Object.keys(e).filter((function(e){return!t.includes(e)})).forEach((function(t){console.warn("invalid key inputSettings -> video -> processor : ".concat(t)),delete e[t]})),!0}(e.video.processor))&&!(e.audio&&(r=e.audio.processor,n=["type"],!r||"object"!==l(r)||(Object.keys(r).filter((function(e){return!n.includes(e)})).forEach((function(e){console.warn("invalid key inputSettings -> audio -> processor : ".concat(e)),delete r[e]})),t=r.type,"string"!=typeof t||!Object.values(He).includes(t)&&(console.error("inputSettings audio processor type invalid"),1))));var t,r,n}function Os(e){var t=[];e.video&&!nt()&&(delete e.video,t.push("video")),e.audio&&!at()&&(delete e.audio,t.push("audio")),t.length>0&&console.error("Ignoring settings for browser- or platform-unsupported input processor(s): ".concat(t.join(", ")))}function js(){var e=Object.values(Ge).join(" | "),t=Object.values(He).join(" | ");return"inputSettings must be of the form: { video?: { processor: { type: [ ".concat(e," ], config?: {} } }, audio?: { processor: {type: [ ").concat(t," ] } } }")}function Ts(e){var t=e.allowAllParticipantsKey;return"receiveSettings must be of the form { [<remote participant id> | ".concat(Oe).concat(t?' | "'.concat(je,'"'):"","]: ")+'{ [video: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]], [screenVideo: [{ layer: [<non-negative integer> | "inherit"] } | "inherit"]] }}}'}function Ps(){return"customIntegrations should be an object of type ".concat(JSON.stringify(hs),".")}function As(e){if(e&&"object"!==l(e)||Array.isArray(e))return console.error("customTrayButtons should be an Object of the type ".concat(JSON.stringify(fs),".")),!1;if(e)for(var t=0,r=Object.entries(e);t<r.length;t++)for(var n=k(r[t],1)[0],i=0,a=Object.entries(e[n]);i<a.length;i++){var o=k(a[i],2),s=o[0],c=o[1];if("iconPath"===s&&!gt(c))return console.error("customTrayButton ".concat(s," should be a url.")),!1;if("iconPathDarkMode"===s&&!gt(c))return console.error("customTrayButton ".concat(s," should be a url.")),!1;var u=fs.id[s];if(!u)return console.error("customTrayButton does not support key ".concat(s)),!1;if(l(c)!==u)return console.error("customTrayButton ".concat(s," should be a ").concat(u,".")),!1}return!0}function xs(e){if(!e||e&&"object"!==l(e)||Array.isArray(e))return console.error(Ps()),!1;for(var t=function(e){return"".concat(e," should be ").concat(hs.id[e])},r=function(e,t){return console.error("customIntegration ".concat(e,": ").concat(t))},n=0,i=Object.entries(e);n<i.length;n++){var a=k(i[n],1)[0];if(!("label"in e[a]))return r(a,"label is required"),!1;if(!("location"in e[a]))return r(a,"location is required"),!1;if(!("src"in e[a])&&!("srcdoc"in e[a]))return r(a,"src or srcdoc is required"),!1;for(var o=0,s=Object.entries(e[a]);o<s.length;o++){var c=k(s[o],2),u=c[0],d=c[1];switch(u){case"allow":case"csp":case"name":case"referrerPolicy":case"sandbox":if("string"!=typeof d)return r(a,t(u)),!1;break;case"iconURL":if(!gt(d))return r(a,"".concat(u," should be a url")),!1;break;case"src":if("srcdoc"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if(!gt(d))return r(a,'src "'.concat(d,'" is not a valid URL')),!1;break;case"srcdoc":if("src"in e[a])return r(a,"cannot have both src and srcdoc"),!1;if("string"!=typeof d)return r(a,t(u)),!1;break;case"location":if(!["main","sidebar"].includes(d))return r(a,t(u)),!1;break;case"controlledBy":if("*"!==d&&"owners"!==d&&(!Array.isArray(d)||d.some((function(e){return"string"!=typeof e}))))return r(a,t(u)),!1;break;case"shared":if((!Array.isArray(d)||d.some((function(e){return"string"!=typeof e})))&&"owners"!==d&&"boolean"!=typeof d)return r(a,t(u)),!1;break;default:if(!hs.id[u])return console.error("customIntegration does not support key ".concat(u)),!1}}}return!0}function Es(e,t){if(void 0===t)return!1;switch(l(t)){case"string":return l(e)===t;case"object":if("object"!==l(e))return!1;for(var r in e)if(!Es(e[r],t[r]))return!1;return!0;default:return!1}}function Fs(e){if("object"!==l(e))throw new Error('RemoteMediaPlayerSettings: must be "object" type');if(e.state&&!Object.values(Ke).includes(e.state))throw new Error("Invalid value for RemoteMediaPlayerSettings.state, valid values are: "+JSON.stringify(Ke));if(e.volume){if("number"!=typeof e.volume)throw new Error('RemoteMediaPlayerSettings.volume: must be "number" type');if(e.volume<0||e.volume>2)throw new Error("RemoteMediaPlayerSettings.volume: must be between 0.0 - 2.0")}}function Ls(e,t,r){return!("number"!=typeof e||e<t||e>r)}function Is(e,t){return e&&!t&&delete e.data,e}}}]);
//# sourceMappingURL=746.8922abaa.chunk.js.map