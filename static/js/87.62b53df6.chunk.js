"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[87],{9512:function(e,n,t){t.d(n,{r:function(){return u}});var r,a,i,o=t(2791),l=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},s.apply(this,arguments)}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}function d(e,n){var t=e.title,d=e.titleId,u=c(e,l);return o.createElement("svg",s({width:9,height:10,viewBox:"0 0 9 10",fill:"#33B0A4",xmlns:"http://www.w3.org/2000/svg",ref:n,"aria-labelledby":d},u),t?o.createElement("title",{id:d},t):null,r||(r=o.createElement("circle",{cx:4.5,cy:5,r:4.5})),a||(a=o.createElement("path",{d:"M2.10156 2.5L6.99863 7.60085",stroke:"white"})),i||(i=o.createElement("path",{d:"M7 2.5L2 7.5",stroke:"white"})))}var u=o.forwardRef(d);t.p},4330:function(e,n,t){t.d(n,{N:function(){return c}});var r=t(9439),a=t(2225),i=t(2791),o=t(6196),l=t(9512),s=t(184),c=function(e){var n=function(e){var n=e.id,t=e.path,l=(0,i.useState)(a),s=(0,r.Z)(l,2),c=s[0],d=s[1],u=(0,i.useState)(!1),f=(0,r.Z)(u,2),h=f[0],m=f[1];return(0,i.useEffect)((function(){n&&o.Z.get("/avatar/".concat(n)).then((function(e){d(e.data)}))}),[n]),{onImageChange:function(e){if(e.target.files[0].size<5242880&&("image/jpeg"===e.target.files[0].type||"image/png"===e.target.files[0].type)){m(!1),d(URL.createObjectURL(e.target.files[0]));var n=new FormData;n.append("files",e.target.files[0]),o.Z.post(t,n,{}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}else m(!0)},image:c,errorImage:h}}({path:e.path,id:e.id}),t=n.onImageChange,c=n.image,d=n.errorImage;return(0,s.jsxs)("div",{className:"AvatarLoader__avatarWrapper",children:[(0,s.jsx)("input",{accept:"image/*,.png,.jpg,.web,.","max-size":"5242880",onChange:function(e){return t(e)},id:"formId",className:"AvatarLoader__inputAvatar",type:"file"}),(0,s.jsxs)("label",{htmlFor:"formId",className:"AvatarLoader__labelAvatar",children:[(0,s.jsx)("img",{name:"avatar",className:"AvatarLoader__img",src:c,alt:"avatar"}),(0,s.jsx)(l.r,{className:"AvatarLoader__svgButton"})]}),d&&(0,s.jsx)("span",{children:"\u0424\u0430\u0439\u043b \u043c\u0430\u0454 \u0431\u0443\u0442\u0438 \u043d\u0435 \u0431\u0456\u043b\u044c\u0448\u0435 5 \u041c\u0411 \u0442\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0443: jpeg, png"})]})}},8400:function(e,n,t){t.d(n,{f:function(){return c}});var r=t(9439),a=t(2791),i=t(9513),o=t.n(i),l=(t(8639),t(5952)),s=t(184),c=function(e){var n=e.innerRef,t=e.date,i=(0,a.useState)(),c=(0,r.Z)(i,2),d=c[0],u=c[1];return console.log(Date(t)),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"Calendar__title",children:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0440\u043e\u0434\u0436\u0435\u043d\u043d\u044f "}),(0,s.jsx)(o(),{placeholderText:t,locale:l.Z,dateFormat:"d.M.yyyy",selected:d,onChange:function(e){n.current.dateOfBirth=e.getDate()+"-"+(e.getMonth()+1)+"-"+e.getFullYear(),u(e)},showMonthDropdown:!0,showYearDropdown:!0,className:"Calendar"})]})}},7260:function(e,n,t){t.d(n,{W:function(){return c}});var r=t(8683),a=t(9439),i=t(4925),o=t(2791),l=t(184),s=["innerRef","placeholder"],c=function(e){var n=e.innerRef,t=e.placeholder,c=(0,i.Z)(e,s),d=(0,o.useState)(""),u=(0,a.Z)(d,2),f=u[0],h=u[1];return(0,l.jsxs)("div",{className:"NameInputValidation__wrapperInput",children:[(0,l.jsx)("span",{className:"NameInputValidation__text",children:"\u041f\u0406\u0411 "}),(0,l.jsx)("input",(0,r.Z)((0,r.Z)({ref:n,type:"text"},c),{},{value:f,onChange:function(e){h(e.target.value.replace(/\d+/g,"")),40===e.target.value.length&&h(e.target.value.replace(/\d+/g,"").slice(0,30))},placeholder:t,className:"NameInputValidation__input "}))]})}},7165:function(e,n,t){t.d(n,{I:function(){return r}});var r=function e(n){for(var t in n)"object"===typeof n[t]?e(n[t]):null!=n[t]&&!1!==Boolean(n[t])||delete n[t];return n}},4091:function(e,n,t){t.d(n,{W:function(){return s}});var r=t(9439),a=t(2791),i=t(6196),o=t(3112),l=t(184),s=function(e,n,t){var s=(0,o.d)().throwError,c=(0,a.useState)(!1),d=(0,r.Z)(c,2),u=d[0],f=d[1],h=function(){f(!1)};return{openModal:function(){f(!0)},closeModal:h,Modal:function(){return u&&(0,l.jsxs)("div",{onMouseLeave:h,className:"CardAdminPanel__wrapperModal",children:[(0,l.jsx)("span",{children:"\u0412\u0438 \u0432\u043f\u0435\u0432\u043d\u0435\u043d\u0456 \u0449\u043e \u0445\u043e\u0447\u0435\u0442\u0435 \u0432\u0438\u0434\u0430\u043b\u0438\u0442\u0438 ?"}),(0,l.jsx)("span",{children:t||"user"}),(0,l.jsxs)("div",{className:"CardAdminPanel__wrapperButtons",children:[(0,l.jsx)("button",{onClick:function(){return function(e,n){i.Z.delete("".concat(e).concat(n)).then((function(e){location.reload()})).catch((function(e){return s(e)}))}(e,n)},className:"CardAdminPanel__button",children:"\u0422\u0430\u043a"}),(0,l.jsx)("button",{onClick:h,className:"CardAdminPanel__button left",children:"\u041d\u0456"})]})]})},alert:u}}},6818:function(e,n,t){t.d(n,{M:function(){return l}});var r=t(9439),a=t(2791),i=t(6510),o=t(184),l=function(){var e=(0,a.useState)(!1),n=(0,r.Z)(e,2),t=n[0],l=n[1];return{toogleLoading:function(){l((function(e){return!e}))},ShowLoader:function(){return t&&(0,o.jsx)(i.a,{})},loadingState:t}}},3112:function(e,n,t){t.d(n,{d:function(){return i}});var r=t(2791),a=t(5369),i=function(){var e=(0,r.useContext)(a._).store;return{throwError:function(n){return e.setTextError(n)}}}},3087:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(2791),a=t(9439),i=t(1563),o=t(945),l=t(8400),s=t(8220),c=t(7260),d=t(9552),u=t(184),f=function(e){var n,t,r=e.infoUser,a=e.dataUser;return(0,u.jsxs)("div",{className:"EditProfile__unputUserInterface",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"EditProfile__titleBlock",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,u.jsxs)("div",{className:"EditProfile__topUserInterface",children:[(0,u.jsxs)("div",{className:"EditProfile__leftColumnDataEdit",children:[(0,u.jsx)(c.W,{innerRef:function(e){return r.current.name=e},placeholder:null===a||void 0===a?void 0:a.name}),(0,u.jsx)(d.L,{innerRef:function(e){return r.current.email=e},placeholder:null===a||void 0===a?void 0:a.email})]}),(0,u.jsxs)("div",{className:"EditProfile__rightColumnDataEdit",children:[(0,u.jsx)(s.a,{innerRef:function(e){return r.current.phoneNumber=e},placeholder:null===a||void 0===a||null===(n=a.userInfo)||void 0===n?void 0:n.phoneNumber}),(0,u.jsx)(l.f,{innerRef:r,date:null===a||void 0===a||null===(t=a.userInfo)||void 0===t?void 0:t.dateOfBirth})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:"EditProfile__topUserInterface",children:[(0,u.jsx)("div",{className:"EditProfile__titleBlock",children:"\u041e\u0441\u043e\u0431\u0438\u0441\u0442\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f"}),(0,u.jsx)("div",{className:"EditProfile__titleBlock password",children:"\u0421\u043a\u0438\u043d\u0443\u0442\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,u.jsxs)("div",{className:"EditProfile__topUserInterface",children:[(0,u.jsxs)("div",{className:"EditProfile__leftColumnDataEdit",children:[(0,u.jsx)(o.p,{inputTitle:"\u0406\u043c\u2019\u044f \u043d\u0430 \u043a\u0430\u0440\u0442\u0456",placeholder:null===a||void 0===a?void 0:a.nameCard,color:"white",name:"nameCard"}),(0,u.jsx)(o.p,{inputTitle:"\u041d\u043e\u043c\u0435\u0440 \u043a\u0430\u0440\u0442\u0438",placeholder:null===a||void 0===a?void 0:a.numCard,color:"white",name:"numCard"})]}),(0,u.jsx)("div",{className:"EditProfile__rightColumnDataEdit",children:(0,u.jsx)(o.p,{innerRef:function(e){return r.current.password=e},inputTitle:"\u041d\u043e\u0432\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",placeholder:"*********",color:"white",name:"password",type:"password"})})]})]})]})},h=t(7689),m=t(6196),p=t(2141),v=t(4330),g=t(7165),j=t(3144),x=t(5671),_=(0,j.Z)((function e(n){(0,x.Z)(this,e),this.userInfo={dateOfBirth:void 0,phoneNumber:void 0,Residence:{country:void 0,region:void 0,city:void 0}},this.email=n.email,this.id=n._id,this.name=n.name,this.password=n.password,this.userInfo.dateOfBirth=n.dateOfBirth,this.userInfo.phoneNumber=n.phoneNumber,this.userInfo.Residence.country=n.country,this.userInfo.Residence.region=n.region,this.userInfo.Residence.city=n.city})),w=t(4091),N=t(6818),b=t(3112),E=function(){var e=(0,b.d)().throwError,n=(0,h.UO)().id,t=(0,r.useState)(),o=(0,a.Z)(t,2),l=o[0],s=o[1],c=(0,N.M)(),d=c.toogleLoading,j=c.ShowLoader,x=(0,w.W)(p.Lm.deleteUser,n,null===l||void 0===l?void 0:l.name),E=x.openModal,y=x.Modal;(0,r.useLayoutEffect)((function(){d(),m.Z.get("".concat(p.Lm.getUser).concat(n)).then((function(e){return s(e.data.user)})).catch((function(n){return e(n)})).finally((function(){return d()}))}),[n]);var I=(0,r.useRef)({name:null,email:null,dateOfBirth:null,phoneNumber:null,password:null});return console.log(l),j()||(0,u.jsxs)("div",{className:"EditProfile",children:[(0,u.jsxs)("div",{className:"EditProfile__imgBlock",children:[(0,u.jsx)("div",{className:"EditProfile__titleBlock",children:"\u0406\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f \u043f\u0440\u043e \u043b\u0456\u043a\u0430\u0440\u044f"}),(0,u.jsx)(v.N,{path:p.Bv.userAvatarDownload,id:null===l||void 0===l?void 0:l._id})]}),l&&(0,u.jsx)(f,{infoUser:I,dataUser:l}),(0,u.jsxs)("div",{className:"EditProfileUser__wrapperButton",children:[(0,u.jsx)(i.z,{onClick:function(){return function(e,t,r,a,i){13!==r.length&&(r=""),null===a&&(a=""),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t)||(t="");var o=(0,g.I)(new _({name:e,email:t,phoneNumber:r,dateOfBirth:a,password:i}));m.Z.patch("".concat(p.Lm.editProfileUser,"/").concat(n),o).then((function(e){location.reload()}))}(I.current.name.value,I.current.email.value,I.current.phoneNumber.value,I.current.dateOfBirth,I.current.password.value)},children:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438"}),(0,u.jsxs)("div",{className:"EditProfileUser__deleteButton",children:[(0,u.jsx)(i.z,{onClick:E,color:"red",children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438 \u043f\u0440\u043e\u0444\u0456\u043b\u044c"}),(0,u.jsx)(y,{})]}),(0,u.jsx)(i.z,{color:"green",children:"\u041f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u043d\u044f \u0437\u0443\u0441\u0442\u0440\u0456\u0447\u0456"})]})]})};var y=function(){return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(E,{})})}}}]);
//# sourceMappingURL=87.62b53df6.chunk.js.map